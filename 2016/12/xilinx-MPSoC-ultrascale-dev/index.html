<!DOCTYPE html>
<html>
<head>
	<meta charset='UTF-8'>
	<title>xilinx ARM MPSoc+ultrascale software run in QEMU | Wenwei's tech Blog</title>
	<link rel='alternate' type='application/rss+xml' title='Wenwei Feed' href='http://weweng.github.io/atom.xml'>
	<meta name='description' content=''/>
	<meta name='keywords' content='xilinx ARM MPSoC development in QEMU'/>
	<meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no'>
	<meta name='theme-color' content='#655B54'>
	<link rel='shortcut icon' href='/assets/favicon.ico' type='image/x-icon'> 
	<!--- <link rel='icon' href='/assets/favicon.ico' type='image/x-icon'> --->
<link rel='icon' href='/assets/blogger.png' type='image/x-png'>

	<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700' rel='stylesheet' type='text/css'>
	<link rel='stylesheet' type='text/css' href='/assets/css/code-highlighter.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/default.min.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/github.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/pure-base-min.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/pure-grids-responsive-min.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/pure-menus-min.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/pure-tables-min.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/social-buttons.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/weweng.css' />


	
</head>
<body>

<div class='pure-g' id='layout'>
    <div class='sidebar pure-u-1 pure-u-md-1-4'>
      <div class='header'>
	<nav class='nav'>
	  <ul class='nav-list'>
	    <li class='nav-item'>
	      <strong> <a href='/workblog.html'>Blog</a> </strong>
	    </li>
<!--
	    <li class='nav-item'>
	      <strong> <a href='/study/index.html'>Study</a> </strong>
	    </li>
	    <li class='nav-item'>
	      <strong> <a href='/projects/index.html'>Projects</a> </strong>
	    </li>
-->
<!--
            <li class='nav-item'>
              <strong> <a href='/services/index.html'>读书笔记</a> </strong>
            </li>
-->
	    <li class='nav-item'>
	      <strong><a href='/aboutme.html'>About Me</a></strong>
	    </li>
	</ul>
	</nav>
	<br> 
	<h1 class='brand-title'>
	  <a href='/index.html'>
		<img src='/assets/img/avatar.png' height='100'/>
	  </a>
	</h1>
      </div>
</div>

<div class='pure-u-1'>
	<div class='content'>
		<section class='post'>
	<header class='post-header'>
		<h2 class='post-title'> xilinx ARM MPSoc+ultrascale software run in QEMU </h2>
		<p class='post-meta'>
			Posted on <time class='date' datetime='2016-12-21T00:00:00+01:00'>21 Dec 2016</time>
		</p>
	</header>

	<div class='post-description'>
		<p>Many vendors are shipping ARMv8 SoC including NXP/Freescale, Marvell, Broadcom, xilinx. xilinx MPSoC is one of impressive one, with Cortex-53, integrated with xilinx FPGA.</p>

<p><img src="/uploads/linux/linux-arm-xilinx-mpsoc-chip.jpg" alt="xilinx MPSoC"></p>

<p>I&#39;m impressed with xilinx&#39;s rich document for software developers to reference.
In this post I share what I have done in order to boot linux in QEMU which simulates xilinx ARM MPSoC+ultrascale.</p>

<!--more-->

<p>xilinx MPSoC is a well designed and feature rich SoC. See following picture to see what is inside. Further you can refer to https://www.xilinx.com/support/documentation/selection-guides/zynq-ultrascale-plus-product-selection-guide.pdf.</p>

<p><img src="/uploads/linux/linux-arm-xilinx-mpsoc-block.jpg" alt="xilinx MPSoC block diag"></p>

<p>From hardware prspective, it can have two or four cortex-53 cores/APU, up to 2 RPU for realtime OS, one GPU etc...</p>

<p>For software development, in general, xilinx provides petalinux package, which wraps up eveything inside, very much like Eclipse IDE for Java development. That is good, but for experienced developers, they might be wondering what is exactly happened inside. This is important especially when it comes to integrate into like Cisco&#39;s build enviroment. Only after you understand what is happenning, you will be able to debug the issue if there is problem encountered in the future. This is a vey general rule in software engineering.</p>

<h1>petalinux installation</h1>

<p>As a first step, petelinux needs to be installed because it has toolchain like cross compiler, bootgen to create BOOT.BIN etc. I did it in Redhat 6.6 box.
Before start, it is good idea to go through xilinx docs:
<li> UG1209: Zynq UltraScale+MPSoC: embedded Design tutorial.</li>
<li> UG1137: Zynq UltraScale+MPSoC: Software Developer Guide.</li>
<li> UG1144: petalinux tool document reference guide.</li>
<li> UG1169: Zynq UltraScale+MPSoC: QEMU user guide</li></p>

<p>petalinux can be downloaded from https://www.xilinx.com/support/download/index.html/content/xilinx/en/downloadNav/embedded-design-tools.html. I used version &quot;2016.3&quot;. At least these two files are to be downloaded: petalinux installer and ZCU102 BSP.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">bash-4.1<span class="nv">$ </span>ls -l /opt/xilinx-download/
total 7472452
-rwxr-xr-x <span class="m">1</span> root root  <span class="m">113517046</span> Dec  <span class="m">5</span> 17:30 Xilinx-ZCU102-v2016.3-final.bsp
-rwxr-xr-x <span class="m">1</span> root root <span class="m">7538258720</span> Dec  <span class="m">5</span> 17:30 petalinux-v2016.3-final-installer.run
bash-4.1<span class="err">$</span></code></pre></figure>

<p>After donwloaded complete, they need to be installed:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">bash-4.1<span class="nv">$ </span>/opt/xilinx-download/petalinux-v2016.3-final-installer.run /opt/petalinux-v2016.3-final</code></pre></figure>

<p>After installation we can create a petlinux project as a reference as following:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sg-ucs-2:/nobackup/weweng&gt; mkdir my-peta-project <span class="o">&amp;&amp;</span> <span class="nb">cd </span>my-peta-project
sg-ucs-2:/nobackup/weweng/my-peta-project&gt; bash
bash-4.1<span class="nv">$ </span><span class="nb">source</span> /opt/petalinux-v2016.3-final/settings.sh
WARNING: <span class="s1">&#39;.&#39;</span> detected in PATH - fixing it.
PetaLinux environment <span class="nb">set </span>to <span class="s1">&#39;/opt/petalinux-v2016.3-final&#39;</span>
INFO: Checking free disk space
INFO: Checking installed tools
INFO: Checking installed development libraries
INFO: Checking network and other services
WARNING: No tftp server found - please refer to <span class="s2">&quot;PetaLinux SDK Installation Guide&quot;</span> <span class="k">for</span> its impact and solution
bash-4.1<span class="nv">$ </span><span class="nb">pwd</span>
/nobackup/weweng/my-peta-project
bash-4.1<span class="nv">$ </span>petalinux-create -t project -s /opt/xilinx-download/Xilinx-ZCU102-v2016.3-final.bsp
INFO: Create project:
INFO: Projects:
INFO:   * Xilinx-ZCU102-2016.3
INFO: has been successfully installed to /nobackup/weweng/my-peta-project/
INFO: New project successfully created in /nobackup/weweng/my-peta-project/
bash-4.1<span class="nv">$ </span>ls
Xilinx-ZCU102-2016.3
bash-4.1<span class="err">$</span></code></pre></figure>

<p>Inside petalinux project, it includes FSBL, u-boot, PFM, Linux kernel, Linux rootfs components.</p>

<p>&quot;petalinux-build&quot; will build system image.
&quot;petalinux-package&quot; will package the desired image.
&quot;petalinux-boot&quot; can boot qemu to run built image.
&quot;petzlinux-config&quot; can be used to configure linux, kernel &quot;-c kernel&quot;, rootfs etc.
For more details check petalinux reference document.</p>

<p>As said, the created petalinux project is for reference only,we will download needed components from GITHUB https://github.com/Xilinx, and build them, then package.</p>

<h1>FSBL: First stage Boot Loader</h1>

<p>See below steps to set up enviroment, and download source code, and build fsbl binary.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">bash-4.1<span class="nv">$ </span>mkdir cisco-qemu-deploy
bash-4.1<span class="nv">$ </span><span class="nb">export </span><span class="nv">PETALINUXHOME</span><span class="o">=</span><span class="s2">&quot;/opt/petalinux-v2016.3-final/&quot;</span>
bash-4.1<span class="nv">$ </span><span class="nb">export </span><span class="nv">HTTP_PROXY</span><span class="o">=</span><span class="s2">&quot;http://proxy.esl.cisco.com:8080&quot;</span>
bash-4.1<span class="nv">$ </span><span class="nb">export </span><span class="nv">HTTPS_PROXY</span><span class="o">=</span><span class="s2">&quot;https://proxy.esl.cisco.com:8080&quot;</span>
bash-4.1<span class="nv">$ </span>mkdir cisco-xilinx-mpsoc <span class="o">&amp;&amp;</span> <span class="nb">cd </span>cisco-xilinx-mpsoc
bash-4.1<span class="nv">$ </span><span class="nb">source</span> <span class="nv">$PETALINUXHOME</span>/settings.sh
bash-4.1<span class="nv">$ </span><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PETALINUXHOME</span>/tools/linux-i386/aarch64-none-elf/bin/:<span class="nv">$PATH</span>
bash-4.1<span class="nv">$ </span>git clone https://github.com/Xilinx/embeddedsw.git
Cloning into <span class="s1">&#39;embeddedsw&#39;</span>...
remote: Counting objects: 63470, <span class="k">done</span>.
remote: Total <span class="m">63470</span> <span class="o">(</span>delta 0<span class="o">)</span>, reused <span class="m">0</span> <span class="o">(</span>delta 0<span class="o">)</span>, pack-reused 63470
Receiving objects: 100% <span class="o">(</span>63470/63470<span class="o">)</span>, 65.87 MiB <span class="p">|</span> 784.00 KiB/s, <span class="k">done</span>.
Resolving deltas: 100% <span class="o">(</span>38654/38654<span class="o">)</span>, <span class="k">done</span>.
bash-4.1<span class="nv">$ </span><span class="nb">cd </span>embeddedsw
bash-4.1<span class="nv">$ </span>git checkout xilinx-v2016.3
bash-4.1<span class="nv">$ </span><span class="nb">cd </span>lib/sw_apps/zynqmp_fsbl/src
bash-4.1<span class="nv">$ </span>make <span class="s2">&quot;BOARD=zcu102&quot;</span> <span class="s2">&quot;PROC=a53&quot;</span> <span class="s2">&quot;A53_STATE=64&quot;</span>
...
&lt;<span class="nb">command</span>-line&gt;:0:0: note: this is the location of the previous definition
aarch64-none-elf-gcc -o fsbl.elf  xfsbl_authentication.o  xfsbl_board.o  xfsbl_bs.o  xfsbl_csu_dma.o  xfsbl_handoff.o  xfsbl_hooks.o  xfsbl_image_header.o  xfsbl_initialization.o  xfsbl_main.o  xfsbl_misc.o  xfsbl_misc_drivers.o  xfsbl_nand.o  xfsbl_partition_load.o  xfsbl_qspi.o  xfsbl_rsa_sha.o  xfsbl_sd.o  psu_init.o  xfsbl_exit.o  xfsbl_translation_table_a53_64.o  -DXPS_BOARD_ZCU102  -MMD -MP -Wall -fmessage-length<span class="o">=</span><span class="m">0</span> -DARMA53_64 -Wl,--start-group,-lxil,-lgcc,-lc,--end-group -Wl,--start-group,-lxilffs,-lxil,-lgcc,-lc,--end-group -Wl,--start-group,-lxilsecure,-lxil,-lgcc,-lc,--end-group  -Wl,--gc-sections -L../misc//zynqmp_fsbl_bsp//psu_cortexa53_0/lib -Tlscript_a53.ld
rm -rf  xfsbl_authentication.o  xfsbl_board.o  xfsbl_bs.o  xfsbl_csu_dma.o  xfsbl_handoff.o  xfsbl_hooks.o  xfsbl_image_header.o  xfsbl_initialization.o  xfsbl_main.o  xfsbl_misc.o  xfsbl_misc_drivers.o  xfsbl_nand.o  xfsbl_partition_load.o  xfsbl_qspi.o  xfsbl_rsa_sha.o  xfsbl_sd.o  psu_init.o  xfsbl_exit.o  xfsbl_translation_table_a53_64.o  *.d
bash-4.1<span class="nv">$ </span>ls -l fsbl.elf
-rwxr-xr-x <span class="m">1</span> weweng eng <span class="m">609960</span> Jan <span class="m">19</span> 12:05 fsbl.elf
bash-4.1<span class="nv">$ </span><span class="c"># copy to deployment directory to create BOOT.BIN</span>
bash-4.1<span class="nv">$ </span>cp fsbl.elf ../cisco-qemu-deploy/zynqmp_fsbl.elf</code></pre></figure>

<h1>ARM Trust Firmware</h1>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">bash-4.1<span class="nv">$ </span>git clone https://github.com/Xilinx/arm-trusted-firmware.git
Cloning into <span class="s1">&#39;arm-trusted-firmware&#39;</span>...
remote: Counting objects: 19526, <span class="k">done</span>.
remote: Total <span class="m">19526</span> <span class="o">(</span>delta 0<span class="o">)</span>, reused <span class="m">0</span> <span class="o">(</span>delta 0<span class="o">)</span>, pack-reused 19526
Receiving objects: 100% <span class="o">(</span>19526/19526<span class="o">)</span>, 8.05 MiB <span class="p">|</span> 809.00 KiB/s, <span class="k">done</span>.
Resolving deltas: 100% <span class="o">(</span>12098/12098<span class="o">)</span>, <span class="k">done</span>.
bash-4.1<span class="nv">$ </span>ls
arm-trusted-firmware  cisco-qemu-deploy  embeddedsw  u-boot-xlnx
bash-4.1<span class="nv">$ </span><span class="nb">cd </span>arm-trusted-firmware
bash-4.1<span class="nv">$ </span><span class="nb">pwd</span>
/nobackup/weweng/cisco-xilinx-mpsoc/arm-trusted-firmware
bash-4.1<span class="nv">$ </span>git checkout xilinx-v2016.3
bash-4.1<span class="nv">$ </span>make <span class="nv">CROSS_COMPILE</span><span class="o">=</span>aarch64-linux-gnu- <span class="nv">PLAT</span><span class="o">=</span>zynqmp <span class="nv">RESET_TO_BL31</span><span class="o">=</span><span class="m">1</span> bl31
.......
  AS      plat/arm/common/aarch64/arm_helpers.S
  AS      plat/xilinx/zynqmp/aarch64/zynqmp_helpers.S
  AS      drivers/cadence/uart/cdns_console.S
  PP      bl31/bl31.ld.S
  LD      build/zynqmp/release/bl31/bl31.elf
  BIN     build/zynqmp/release/bl31.bin

Built build/zynqmp/release/bl31.bin successfully

  OD      build/zynqmp/release/bl31/bl31.dump
bash-4.1<span class="err">$</span>
bash-4.1<span class="nv">$ </span>ls -l build/zynqmp/release/bl31/bl31.elf
-rwxr-xr-x <span class="m">1</span> weweng eng <span class="m">93400</span> Jan <span class="m">19</span> 12:44 build/zynqmp/release/bl31/bl31.elf
bash-4.1<span class="nv">$ </span><span class="c"># copy to deployment directory to create BOOT.BIN</span>
bash-4.1<span class="nv">$ </span>cp build/zynqmp/release/bl31/bl31.elf ../cisco-qemu-deploy/bl31.elf
bash-4.1<span class="err">$</span></code></pre></figure>

<h1>u-boot</h1>

<p>(reference: http://www.wiki.xilinx.com/Build+U-Boot)</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">bash-4.1<span class="nv">$ </span><span class="nb">pwd</span>
/nobackup/weweng/cisco-xilinx-mpsoc
bash-4.1<span class="nv">$ </span>git clone https://github.com/Xilinx/u-boot-xlnx.git
Cloning into <span class="s1">&#39;u-boot-xlnx&#39;</span>...
remote: Counting objects: 455682, <span class="k">done</span>.
remote: Compressing objects: 100% <span class="o">(</span>37206/37206<span class="o">)</span>, <span class="k">done</span>.
remote: Total <span class="m">455682</span> <span class="o">(</span>delta 29128<span class="o">)</span>, reused <span class="m">0</span> <span class="o">(</span>delta 0<span class="o">)</span>, pack-reused 418161
Receiving objects: 100% <span class="o">(</span>455682/455682<span class="o">)</span>, 120.42 MiB <span class="p">|</span> 788.00 KiB/s, <span class="k">done</span>.
Resolving deltas: 100% <span class="o">(</span>360771/360771<span class="o">)</span>, <span class="k">done</span>.
bash-4.1<span class="err">$</span>
bash-4.1<span class="nv">$ </span><span class="nb">cd </span>u-boot-xlnx/
bash-4.1<span class="nv">$ </span>git checkout xilinx-v2016.3
bash-4.1<span class="nv">$ </span>which mkimage
/auto/mssbu-swtools/bin/mkimage
bash-4.1<span class="nv">$ </span><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PETALINUXHOME</span>/tools/linux-i386/petalinux/bin/unexport/:<span class="nv">$PATH</span>
bash-4.1<span class="nv">$ </span>which mkimage
/opt/petalinux-v2016.3-final/tools/linux-i386/petalinux/bin/unexport/mkimage
bash-4.1<span class="nv">$ </span>make xilinx_zynqmp_zcu102_config
  HOSTCC  scripts/basic/fixdep
  HOSTCC  scripts/kconfig/conf.o
  SHIPPED scripts/kconfig/zconf.tab.c
  SHIPPED scripts/kconfig/zconf.lex.c
  SHIPPED scripts/kconfig/zconf.hash.c
  HOSTCC  scripts/kconfig/zconf.tab.o
  HOSTLD  scripts/kconfig/conf
<span class="c">#</span>
<span class="c"># configuration written to .config</span>
<span class="c">#</span>
bash-4.1<span class="nv">$ </span><span class="nb">export </span><span class="nv">CROSS_COMPILE</span><span class="o">=</span>aarch64-none-elf-
bash-4.1<span class="nv">$ </span><span class="nb">export </span><span class="nv">ARCH</span><span class="o">=</span>arm
bash-4.1<span class="nv">$ </span>make
...
  CC      spl/lib/panic.o
  CC      spl/lib/strto.o
  CC      spl/lib/strmhz.o
  LD      spl/lib/built-in.o
  LDS     spl/u-boot-spl.lds
  LD      spl/u-boot-spl
  OBJCOPY spl/u-boot-spl-nodtb.bin
  COPY    spl/u-boot-spl.bin
  CFG     spl/u-boot-spl.cfg
  MKIMAGE spl/boot.bin
  MKIMAGE u-boot.img
bash-4.1<span class="err">$</span>
bash-4.1<span class="nv">$ </span>ls -l u-boot.bin u-boot.elf u-boot.img
-rwxr-xr-x <span class="m">1</span> weweng eng <span class="m">569400</span> Jan <span class="m">19</span> 12:27 u-boot.bin
-rwxr-xr-x <span class="m">1</span> weweng eng <span class="m">635832</span> Jan <span class="m">19</span> 12:27 u-boot.elf
-rw-r--r-- <span class="m">1</span> weweng eng <span class="m">599364</span> Jan <span class="m">19</span> 12:27 u-boot.img
bash-4.1<span class="nv">$ </span><span class="c"># copy to deployment directory to create BOOT.BIN</span>
bash-4.1<span class="nv">$ </span>cp u-boot.elf ../cisco-qemu-deploy/</code></pre></figure>

<h1>Create BOOT.BIN</h1>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">bash-4.1<span class="nv">$ </span><span class="nb">pwd</span>
/nobackup/weweng/cisco-xilinx-mpsoc/cisco-qemu-deploy

bash-4.1<span class="nv">$ </span><span class="c">#take prebuilt pmufw.elf from petalinux project, we don&#39;t need to change this one at all</span>

bash-4.1<span class="nv">$ </span>cp /nobackup/weweng/my-peta-project/Xilinx-ZCU102-2016.3/pre-built/linux/images/pmufw.elf .

bash-4.1<span class="nv">$ </span>ls -l
total 1448
-rwxr-xr-x <span class="m">1</span> weweng eng  <span class="m">93400</span> Jan <span class="m">19</span> 12:56 bl31.elf
-rw-r--r-- <span class="m">1</span> weweng eng    <span class="m">202</span> Jan <span class="m">19</span> 13:02 cisco-img.bif
-rwxr-xr-x <span class="m">1</span> weweng eng <span class="m">198323</span> Jan <span class="m">19</span> 12:59 pmufw.elf
-rwxr-xr-x <span class="m">1</span> weweng eng <span class="m">635832</span> Jan <span class="m">19</span> 12:56 u-boot.elf
-rwxr-xr-x <span class="m">1</span> weweng eng <span class="m">609960</span> Jan <span class="m">19</span> 12:57 zynqmp_fsbl.elf
bash-4.1<span class="nv">$ </span>cat cisco-img.bif
the_ROM_image:
<span class="o">{</span>
  <span class="o">[</span>fsbl_config<span class="o">]</span> a53_x64
  <span class="o">[</span>bootloader<span class="o">]</span> zynqmp_fsbl.elf
  <span class="o">[</span><span class="nv">destination_cpu</span><span class="o">=</span>a53-0, <span class="nv">exception_level</span><span class="o">=</span>el-3, trustzone<span class="o">]</span> bl31.elf
  <span class="o">[</span><span class="nv">destination_cpu</span><span class="o">=</span>a53-0, <span class="nv">exception_level</span><span class="o">=</span>el-2<span class="o">]</span> u-boot.elf
<span class="o">}</span>
bash-4.1<span class="err">$</span>

bash-4.1<span class="nv">$ </span>cat sparrow-img.bif
the_ROM_image:
<span class="o">{</span>
  <span class="o">[</span>fsbl_config<span class="o">]</span> a53_x64
  <span class="o">[</span>bootloader<span class="o">]</span> build/zynqmp_fsbl.elf
  <span class="o">[</span>pmufw_image<span class="o">]</span> pmufw.elf
  <span class="o">[</span><span class="nv">destination_cpu</span><span class="o">=</span>a53-0, <span class="nv">exception_level</span><span class="o">=</span>el-3, trustzone<span class="o">]</span> bl31.elf
  <span class="o">[</span><span class="nv">destination_cpu</span><span class="o">=</span>a53-0, <span class="nv">exception_level</span><span class="o">=</span>el-2<span class="o">]</span> u-boot.elf
<span class="o">}</span>
bash-4.1<span class="nv">$ $PETALINUXHOME</span>/tools/hsm/bin/bootgen -image cisco-img.bif -r -w -o i BOOT.BIN
bash-4.1<span class="nv">$ </span>ls -l BOOT.BIN
-rw-r--r-- <span class="m">1</span> weweng eng <span class="m">732152</span> Jan <span class="m">19</span> 13:04 BOOT.BIN
bash-4.1<span class="err">$</span></code></pre></figure>

<p>At this point we have BOOT.BIN file ready to boot.</p>

<h1>xilinx-kernel</h1>

<p>It can get from GITHUB, for now we use the prebuilt one from petzlinux project</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">bash-4.1<span class="nv">$ </span><span class="nb">pwd</span>
/nobackup/weweng/cisco-xilinx-mpsoc/cisco-qemu-deploy
bash-4.1<span class="nv">$ </span>cp /nobackup/weweng/my-peta-project/Xilinx-ZCU102-2016.3/pre-built/linux/images/Image .
bash-4.1<span class="err">$</span></code></pre></figure>

<p>Now we are ready to create a SD card for qemu to boot:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">bash-4.1<span class="nv">$ </span>dd <span class="k">if</span><span class="o">=</span>/dev/zero <span class="nv">of</span><span class="o">=</span>qemu_sd.img <span class="nv">bs</span><span class="o">=</span>256M <span class="nv">count</span><span class="o">=</span><span class="m">1</span> <span class="p">;</span> sync
bash-4.1<span class="nv">$ </span>mkfs.vfat -F <span class="m">32</span> qemu_sd.img
bash-4.1<span class="nv">$ </span>mcopy -i qemu_sd.img BOOT.BIN ::/
bash-4.1<span class="nv">$ </span>mcopy -i qemu_sd.img Image ::/
bash-4.1<span class="nv">$ </span>mcopy -i qemu_sd.img zynqmp-qemu-arm.dtb ::/
bash-4.1<span class="nv">$ </span>mcopy -i qemu_sd.img system.dtb ::/</code></pre></figure>

<p>Note that zynqmp-qemu-arm.dtb is for QEMU, system.dtb is for MPSoC running inside QEMU use.</p>

<h1>xilinx-qemu</h1>

<p>We can use build one from GITHUB, or QEMU from petalinux tool, to save time, we use one from petalinux installation: $PETALINUXHOME/tools/linux-i386/petalinux/bin/qemu-system-aarch64.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$PETALINUXHOME</span>/tools/linux-i386/petalinux/bin/qemu-system-aarch64 -m <span class="m">2048</span> -M arm-generic-fdt -nographic -serial mon:stdio -serial /dev/null -device loader,file<span class="o">=</span>zynqmp_fsbl.elf,cpu<span class="o">=</span><span class="m">0</span> -hw-dtb ./zynqmp-qemu-arm.dtb -device loader,addr<span class="o">=</span>0xfd1a0104,data<span class="o">=</span>0x8000000e,data-len<span class="o">=</span><span class="m">4</span> -drive <span class="nv">file</span><span class="o">=</span>qemu_sd.img,if<span class="o">=</span>sd,format<span class="o">=</span>raw,index<span class="o">=</span><span class="m">1</span> -boot <span class="nv">mode</span><span class="o">=</span>5
--------------------------------------------------------------------
Xilinx QEMU Oct <span class="m">16</span> <span class="m">2016</span> 13:44:59.
--------------------------------------------------------------------
Xilinx Zynq MP First Stage Boot Loader
Release 2016.3   Nov <span class="m">17</span> <span class="m">2016</span>  -  13:02:28
NOTICE:  ATF running on XCZUUNKN/QEMU v1/RTL0.0 at 0xfffea000
NOTICE:  BL31: Secure code at 0x0
NOTICE:  BL31: Non secure code at 0x8000000
NOTICE:  BL31: v1.2<span class="o">(</span>release<span class="o">)</span>:
NOTICE:  BL31: Built : 13:25:44, Nov <span class="m">15</span> 2016


U-Boot 2016.07 <span class="o">(</span>Nov <span class="m">17</span> <span class="m">2016</span> - 17:02:02 -0800<span class="o">)</span> Xilinx ZynqMP ZCU102

I2C:   ready
DRAM:  <span class="m">4</span> GiB
EL Level:       EL2
Chip ID:        xczuunknown
MMC:   sdhci@ff170000: 0
Using default environment

In:    serial@ff000000
Out:   serial@ff000000
Err:   serial@ff000000
Bootmode: SD_MODE1
SCSI:  SATA link <span class="m">0</span> timeout.
SATA link <span class="m">1</span> timeout.
AHCI 0001.0000 <span class="m">32</span> slots <span class="m">2</span> ports 1.5 Gbps 0x3 impl SATA mode
flags: ncq only
scanning bus <span class="k">for</span> devices...
Found <span class="m">0</span> device<span class="o">(</span>s<span class="o">)</span>.
Net:   ZYNQ GEM: ff0e0000, phyaddr 21, interface rgmii-id
I2C EEPROM MAC address <span class="nb">read </span>failed

Warning: ethernet@ff0e0000 <span class="o">(</span>eth0<span class="o">)</span> using random MAC address - 92:7a:fb:6c:6f:68
eth0: ethernet@ff0e0000
Hit any key to stop autoboot:  0
switch to partitions <span class="c">#0, OK</span>
mmc0 is current device
Device: sdhci@ff170000
Manufacturer ID: aa
OEM: 5859
Name: QEMU!
Tran Speed: 25000000
Rd Block Len: 512
SD version 1.0
High Capacity: No
Capacity: <span class="m">256</span> MiB
Bus Width: 4-bit
Erase Group Size: <span class="m">512</span> Bytes
reading system.dtb
<span class="m">32645</span> bytes <span class="nb">read </span>in <span class="m">35</span> ms <span class="o">(</span>910.2 KiB/s<span class="o">)</span>
reading Image
<span class="m">37524480</span> bytes <span class="nb">read </span>in <span class="m">9668</span> ms <span class="o">(</span>3.7 MiB/s<span class="o">)</span>
<span class="c">## Flattened Device Tree blob at 04000000</span>
   Booting using the fdt blob at 0x4000000
   Loading Device Tree to 000000000fff5000, end 000000000fffff84 ... OK

Starting kernel ...

<span class="o">[</span>    0.000000<span class="o">]</span> Booting Linux on physical CPU 0x0
<span class="o">[</span>    0.000000<span class="o">]</span> Linux version 4.6.0 <span class="o">(</span>xbrbbot@xcoengvm229115<span class="o">)</span> <span class="o">(</span>gcc version 5.2.1 <span class="m">20151005</span> <span class="o">(</span>Linaro GCC 5.2-2015.11-2<span class="o">)</span> <span class="o">)</span> <span class="c">#2 SMP Sun Oct 16 20:45:00 MDT 2016</span>
<span class="o">[</span>    0.000000<span class="o">]</span> Boot CPU: AArch64 Processor <span class="o">[</span>410fd032<span class="o">]</span>
<span class="o">[</span>    0.000000<span class="o">]</span> efi: Getting EFI parameters from FDT:
<span class="o">[</span>    0.000000<span class="o">]</span> efi: UEFI not found.
<span class="o">[</span>    0.000000<span class="o">]</span> cma: Reserved <span class="m">128</span> MiB at 0x0000000078000000
<span class="o">[</span>    0.000000<span class="o">]</span> psci: probing <span class="k">for</span> conduit method from DT.
<span class="o">[</span>    0.000000<span class="o">]</span> psci: PSCIv1.0 detected in firmware.
<span class="o">[</span>    0.000000<span class="o">]</span> psci: Using standard PSCI v0.2 <span class="k">function</span> IDs
<span class="o">[</span>    0.000000<span class="o">]</span> psci: MIGRATE_INFO_TYPE not supported.
<span class="o">[</span>    0.000000<span class="o">]</span> percpu: Embedded <span class="m">20</span> pages/cpu @ffffffc87ff48000 s42496 r8192 d31232 u81920
<span class="o">[</span>    0.000000<span class="o">]</span> Detected VIPT I-cache on CPU0
<span class="o">[</span>    0.000000<span class="o">]</span> CPU features: enabling workaround <span class="k">for</span> ARM errata 826319, 827319, 824069
<span class="o">[</span>    0.000000<span class="o">]</span> CPU features: enabling workaround <span class="k">for</span> ARM erratum 845719
<span class="o">[</span>    0.000000<span class="o">]</span> Built <span class="m">1</span> zonelists in Zone order, mobility grouping on.  Total pages: 1034240
<span class="o">[</span>    0.000000<span class="o">]</span> Kernel <span class="nb">command </span>line: <span class="nv">root</span><span class="o">=</span>/dev/mmcblk0p2 rw rootwait
<span class="o">[</span>    0.000000<span class="o">]</span> PID <span class="nb">hash </span>table entries: <span class="m">4096</span> <span class="o">(</span>order: 3, <span class="m">32768</span> bytes<span class="o">)</span>
<span class="o">[</span>    0.000000<span class="o">]</span> Dentry cache <span class="nb">hash </span>table entries: <span class="m">524288</span> <span class="o">(</span>order: 10, <span class="m">4194304</span> bytes<span class="o">)</span>
<span class="o">[</span>    0.000000<span class="o">]</span> Inode-cache <span class="nb">hash </span>table entries: <span class="m">262144</span> <span class="o">(</span>order: 9, <span class="m">2097152</span> bytes<span class="o">)</span>
<span class="o">[</span>    0.000000<span class="o">]</span> software IO TLB <span class="o">[</span>mem 0x73fff000-0x77fff000<span class="o">]</span> <span class="o">(</span>64MB<span class="o">)</span> mapped at <span class="o">[</span>ffffffc073fff000-ffffffc077ffefff<span class="o">]</span>
<span class="o">[</span>    0.000000<span class="o">]</span> Memory: 3895960K/4194304K available <span class="o">(</span>7528K kernel code, 541K rwdata, 2656K rodata, 25912K init, 363K bss, 167272K reserved, 131072K cma-reserved<span class="o">)</span>
<span class="o">[</span>    0.000000<span class="o">]</span> Virtual kernel memory layout:
<span class="o">[</span>    0.000000<span class="o">]</span>     modules : 0xffffff8000000000 - 0xffffff8008000000   <span class="o">(</span>   <span class="m">128</span> MB<span class="o">)</span>
<span class="o">[</span>    0.000000<span class="o">]</span>     vmalloc : 0xffffff8008000000 - 0xffffffbdffff0000   <span class="o">(</span>   <span class="m">247</span> GB<span class="o">)</span>
<span class="o">[</span>    0.000000<span class="o">]</span>       .text : 0xffffff8008080000 - 0xffffff80087d8000   <span class="o">(</span>  <span class="m">7520</span> KB<span class="o">)</span>
<span class="o">[</span>    0.000000<span class="o">]</span>     .rodata : 0xffffff80087d8000 - 0xffffff8008a74000   <span class="o">(</span>  <span class="m">2672</span> KB<span class="o">)</span>
<span class="o">[</span>    0.000000<span class="o">]</span>       .init : 0xffffff8008a74000 - 0xffffff800a3c2000   <span class="o">(</span> <span class="m">25912</span> KB<span class="o">)</span>
<span class="o">[</span>    0.000000<span class="o">]</span>       .data : 0xffffff800a3c2000 - 0xffffff800a449400   <span class="o">(</span>   <span class="m">541</span> KB<span class="o">)</span>
<span class="o">[</span>    0.000000<span class="o">]</span>     vmemmap : 0xffffffbe00000000 - 0xffffffbfc0000000   <span class="o">(</span>     <span class="m">7</span> GB maximum<span class="o">)</span>
<span class="o">[</span>    0.000000<span class="o">]</span>               0xffffffbe00000000 - 0xffffffbe1dc00000   <span class="o">(</span>   <span class="m">476</span> MB actual<span class="o">)</span>
<span class="o">[</span>    0.000000<span class="o">]</span>     fixed   : 0xffffffbffe7fd000 - 0xffffffbffec00000   <span class="o">(</span>  <span class="m">4108</span> KB<span class="o">)</span>
<span class="o">[</span>    0.000000<span class="o">]</span>     PCI I/O : 0xffffffbffee00000 - 0xffffffbfffe00000   <span class="o">(</span>    <span class="m">16</span> MB<span class="o">)</span>
<span class="o">[</span>    0.000000<span class="o">]</span>     memory  : 0xffffffc000000000 - 0xffffffc880000000   <span class="o">(</span> <span class="m">34816</span> MB<span class="o">)</span>
<span class="o">[</span>    0.000000<span class="o">]</span> Hierarchical RCU implementation.
<span class="o">[</span>    0.000000<span class="o">]</span>  Build-time adjustment of leaf fanout to 64.
<span class="o">[</span>    0.000000<span class="o">]</span>  RCU restricting CPUs from <span class="nv">NR_CPUS</span><span class="o">=</span><span class="m">8</span> to <span class="nv">nr_cpu_ids</span><span class="o">=</span>4.
<span class="o">[</span>    0.000000<span class="o">]</span> RCU: Adjusting geometry <span class="k">for</span> <span class="nv">rcu_fanout_leaf</span><span class="o">=</span>64, <span class="nv">nr_cpu_ids</span><span class="o">=</span>4
<span class="o">[</span>    0.000000<span class="o">]</span> NR_IRQS:64 nr_irqs:64 0
<span class="o">[</span>    0.000000<span class="o">]</span> GIC: Adjusting CPU interface base to 0x00000000f902f000
<span class="o">[</span>    0.000000<span class="o">]</span> GIC: Using split EOI/Deactivate mode
<span class="o">[</span>    0.000000<span class="o">]</span> Architected cp15 timer<span class="o">(</span>s<span class="o">)</span> running at 50.00MHz <span class="o">(</span>phys<span class="o">)</span>.
<span class="o">[</span>    0.000000<span class="o">]</span> clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0xb8812736b, max_idle_ns: <span class="m">440795202655</span> ns
<span class="o">[</span>    0.000165<span class="o">]</span> sched_clock: <span class="m">56</span> bits at 50MHz, resolution 20ns, wraps every 4398046511100ns
<span class="o">[</span>    0.008439<span class="o">]</span> Console: colour dummy device 80x25
<span class="o">[</span>    0.011299<span class="o">]</span> console <span class="o">[</span>tty0<span class="o">]</span> enabled
<span class="o">[</span>    0.011892<span class="o">]</span> Calibrating delay loop <span class="o">(</span>skipped<span class="o">)</span>, value calculated using timer frequency.. 100.00 BogoMIPS <span class="o">(</span><span class="nv">lpj</span><span class="o">=</span>200000<span class="o">)</span>
<span class="o">[</span>    0.012150<span class="o">]</span> pid_max: default: <span class="m">32768</span> minimum: 301
<span class="o">[</span>    0.014438<span class="o">]</span> Mount-cache <span class="nb">hash </span>table entries: <span class="m">8192</span> <span class="o">(</span>order: 4, <span class="m">65536</span> bytes<span class="o">)</span>
<span class="o">[</span>    0.014528<span class="o">]</span> Mountpoint-cache <span class="nb">hash </span>table entries: <span class="m">8192</span> <span class="o">(</span>order: 4, <span class="m">65536</span> bytes<span class="o">)</span>
<span class="o">[</span>    0.036291<span class="o">]</span> ASID allocator initialised with <span class="m">65536</span> entries
<span class="o">[</span>    0.045716<span class="o">]</span> zynqmp_plat_init power management API version error. Expected: v0.2 - Found: v0.0
<span class="o">[</span>    0.045814<span class="o">]</span> zynqmp_plat_init Power management API v0.2
<span class="o">[</span>    0.046439<span class="o">]</span> EFI services will not be available.
<span class="o">[</span>    0.054894<span class="o">]</span> Detected VIPT I-cache on CPU1
<span class="o">[</span>    0.062708<span class="o">]</span> CPU1: Booted secondary processor <span class="o">[</span>410fd032<span class="o">]</span>
<span class="o">[</span>    0.093955<span class="o">]</span> Detected VIPT I-cache on CPU2
<span class="o">[</span>    0.097514<span class="o">]</span> CPU2: Booted secondary processor <span class="o">[</span>410fd032<span class="o">]</span>
<span class="o">[</span>    0.123794<span class="o">]</span> Detected VIPT I-cache on CPU3
<span class="o">[</span>    0.127502<span class="o">]</span> CPU3: Booted secondary processor <span class="o">[</span>410fd032<span class="o">]</span>
<span class="o">[</span>    0.138586<span class="o">]</span> Brought up <span class="m">4</span> CPUs
<span class="o">[</span>    0.140494<span class="o">]</span> SMP: Total of <span class="m">4</span> processors activated.
<span class="o">[</span>    0.140819<span class="o">]</span> CPU: All CPU<span class="o">(</span>s<span class="o">)</span> started at EL2
<span class="o">[</span>    0.141905<span class="o">]</span> alternatives: patching kernel code
<span class="o">[</span>    0.168184<span class="o">]</span> devtmpfs: initialized
<span class="o">[</span>    0.202612<span class="o">]</span> DMI not present or invalid.
<span class="o">[</span>    0.203897<span class="o">]</span> clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: <span class="m">7645041785100000</span> ns
<span class="o">[</span>    0.228145<span class="o">]</span> xor: measuring software checksum speed
<span class="o">[</span>    0.266872<span class="o">]</span>    8regs     :  1203.000 MB/sec
<span class="o">[</span>    0.307625<span class="o">]</span>    8regs_prefetch:  1200.000 MB/sec
<span class="o">[</span>    0.348877<span class="o">]</span>    32regs    :  1151.000 MB/sec
<span class="o">[</span>    0.390088<span class="o">]</span>    32regs_prefetch:   568.000 MB/sec
<span class="o">[</span>    0.390193<span class="o">]</span> xor: using <span class="k">function</span>: 8regs <span class="o">(</span>1203.000 MB/sec<span class="o">)</span>
<span class="o">[</span>    0.401979<span class="o">]</span> NET: Registered protocol family 16
<span class="o">[</span>    0.426307<span class="o">]</span> cpuidle: using governor ladder
<span class="o">[</span>    0.438405<span class="o">]</span> cpuidle: using governor menu
<span class="o">[</span>    0.438876<span class="o">]</span> vdso: <span class="m">2</span> pages <span class="o">(</span><span class="m">1</span> code @ ffffff80087de000, <span class="m">1</span> data @ ffffff800a3c8000<span class="o">)</span>
<span class="o">[</span>    0.439359<span class="o">]</span> hw-breakpoint: found <span class="m">6</span> breakpoint and <span class="m">4</span> watchpoint registers.
<span class="o">[</span>    0.446256<span class="o">]</span> DMA: preallocated <span class="m">256</span> KiB pool <span class="k">for</span> atomic allocations
<span class="o">[</span>    0.466276<span class="o">]</span> ARM CCI_400_r1 PMU driver probed
<span class="o">[</span>    0.660759<span class="o">]</span> HugeTLB registered <span class="m">2</span> MB page size, pre-allocated <span class="m">0</span> pages
<span class="o">[</span>    0.753907<span class="o">]</span> raid6: int64x1  gen<span class="o">()</span>   <span class="m">614</span> MB/s
<span class="o">[</span>    0.871308<span class="o">]</span> raid6: int64x1  xor<span class="o">()</span>   <span class="m">609</span> MB/s
<span class="o">[</span>    0.966038<span class="o">]</span> raid6: int64x2  gen<span class="o">()</span>  <span class="m">1064</span> MB/s
<span class="o">[</span>    1.059956<span class="o">]</span> raid6: int64x2  xor<span class="o">()</span>   <span class="m">199</span> MB/s
<span class="o">[</span>    1.141748<span class="o">]</span> raid6: int64x4  gen<span class="o">()</span>  <span class="m">1222</span> MB/s
<span class="o">[</span>    1.292747<span class="o">]</span> raid6: int64x4  xor<span class="o">()</span>  <span class="m">1312</span> MB/s
<span class="o">[</span>    1.367243<span class="o">]</span> raid6: int64x8  gen<span class="o">()</span>   <span class="m">798</span> MB/s
<span class="o">[</span>    1.477405<span class="o">]</span> raid6: int64x8  xor<span class="o">()</span>   <span class="m">754</span> MB/s
<span class="o">[</span>    1.568605<span class="o">]</span> raid6: neonx1   gen<span class="o">()</span>   <span class="m">416</span> MB/s
<span class="o">[</span>    1.703542<span class="o">]</span> raid6: neonx1   xor<span class="o">()</span>   <span class="m">335</span> MB/s
<span class="o">[</span>    1.804982<span class="o">]</span> raid6: neonx2   gen<span class="o">()</span>   <span class="m">574</span> MB/s
<span class="o">[</span>    1.899188<span class="o">]</span> raid6: neonx2   xor<span class="o">()</span>   <span class="m">287</span> MB/s
<span class="o">[</span>    2.037408<span class="o">]</span> raid6: neonx4   gen<span class="o">()</span>   <span class="m">759</span> MB/s
<span class="o">[</span>    2.164138<span class="o">]</span> raid6: neonx4   xor<span class="o">()</span>   <span class="m">344</span> MB/s
<span class="o">[</span>    2.250018<span class="o">]</span> raid6: neonx8   gen<span class="o">()</span>   <span class="m">508</span> MB/s
<span class="o">[</span>    2.380570<span class="o">]</span> raid6: neonx8   xor<span class="o">()</span>   <span class="m">385</span> MB/s
<span class="o">[</span>    2.380645<span class="o">]</span> raid6: using algorithm int64x4 gen<span class="o">()</span> <span class="m">1222</span> MB/s
<span class="o">[</span>    2.380708<span class="o">]</span> raid6: .... xor<span class="o">()</span> <span class="m">1312</span> MB/s, rmw enabled
<span class="o">[</span>    2.380808<span class="o">]</span> raid6: using intx1 recovery algorithm
<span class="o">[</span>    2.382203<span class="o">]</span> ACPI: Interpreter disabled.
<span class="o">[</span>    2.385784<span class="o">]</span> arm-smmu fd800000.smmu: probing hardware configuration...
<span class="o">[</span>    2.385892<span class="o">]</span> arm-smmu fd800000.smmu: SMMUv2 with:
<span class="o">[</span>    2.385995<span class="o">]</span> arm-smmu fd800000.smmu:  stage <span class="m">1</span> translation
<span class="o">[</span>    2.386067<span class="o">]</span> arm-smmu fd800000.smmu:  stage <span class="m">2</span> translation
<span class="o">[</span>    2.386134<span class="o">]</span> arm-smmu fd800000.smmu:  nested translation
<span class="o">[</span>    2.386292<span class="o">]</span> arm-smmu fd800000.smmu:  stream matching with <span class="m">48</span> register groups, mask 0x7fff
<span class="o">[</span>    2.386420<span class="o">]</span> arm-smmu fd800000.smmu:  <span class="m">16</span> context banks <span class="o">(</span><span class="m">0</span> stage-2 only<span class="o">)</span>
<span class="o">[</span>    2.386673<span class="o">]</span> arm-smmu fd800000.smmu:  Supported page sizes: 0x60211000
<span class="o">[</span>    2.386747<span class="o">]</span> arm-smmu fd800000.smmu:  Stage-1: 48-bit VA -&gt; 48-bit IPA
<span class="o">[</span>    2.386821<span class="o">]</span> arm-smmu fd800000.smmu:  Stage-2: 48-bit IPA -&gt; 48-bit PA
<span class="o">[</span>    2.392489<span class="o">]</span> arm-smmu fd800000.smmu: registered <span class="m">26</span> master devices
<span class="o">[</span>    2.397506<span class="o">]</span> iommu: Adding device fd500000.dma to group 0
<span class="o">[</span>    2.397735<span class="o">]</span> iommu: Adding device fd510000.dma to group 1
<span class="o">[</span>    2.397940<span class="o">]</span> iommu: Adding device fd520000.dma to group 2
<span class="o">[</span>    2.398101<span class="o">]</span> iommu: Adding device fd530000.dma to group 3
<span class="o">[</span>    2.398257<span class="o">]</span> iommu: Adding device fd540000.dma to group 4
<span class="o">[</span>    2.398412<span class="o">]</span> iommu: Adding device fd550000.dma to group 5
<span class="o">[</span>    2.399474<span class="o">]</span> iommu: Adding device fd560000.dma to group 6
<span class="o">[</span>    2.399642<span class="o">]</span> iommu: Adding device fd570000.dma to group 7
<span class="o">[</span>    2.399876<span class="o">]</span> iommu: Adding device ffa80000.dma to group 8
<span class="o">[</span>    2.400068<span class="o">]</span> iommu: Adding device ffa90000.dma to group 9
<span class="o">[</span>    2.400226<span class="o">]</span> iommu: Adding device ffaa0000.dma to group 10
<span class="o">[</span>    2.400399<span class="o">]</span> iommu: Adding device ffab0000.dma to group 11
<span class="o">[</span>    2.400559<span class="o">]</span> iommu: Adding device ffac0000.dma to group 12
<span class="o">[</span>    2.400731<span class="o">]</span> iommu: Adding device ffad0000.dma to group 13
<span class="o">[</span>    2.400889<span class="o">]</span> iommu: Adding device ffae0000.dma to group 14
<span class="o">[</span>    2.401045<span class="o">]</span> iommu: Adding device ffaf0000.dma to group 15
<span class="o">[</span>    2.401278<span class="o">]</span> iommu: Adding device ff0e0000.ethernet to group 16
<span class="o">[</span>    2.401795<span class="o">]</span> iommu: Adding device ff0f0000.spi to group 17
<span class="o">[</span>    2.402192<span class="o">]</span> iommu: Adding device ff170000.sdhci to group 18
<span class="o">[</span>    2.402603<span class="o">]</span> iommu: Adding device amba:usb@fe200000 to group 19
<span class="o">[</span>    2.406066<span class="o">]</span> SCSI subsystem initialized
<span class="o">[</span>    2.409841<span class="o">]</span> usbcore: registered new interface driver usbfs
<span class="o">[</span>    2.410280<span class="o">]</span> usbcore: registered new interface driver hub
<span class="o">[</span>    2.410620<span class="o">]</span> usbcore: registered new device driver usb
<span class="o">[</span>    2.414239<span class="o">]</span> media: Linux media interface: v0.10
<span class="o">[</span>    2.414541<span class="o">]</span> Linux video capture interface: v2.00
<span class="o">[</span>    2.414831<span class="o">]</span> pps_core: LinuxPPS API ver. <span class="m">1</span> registered
<span class="o">[</span>    2.414894<span class="o">]</span> pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti &lt;giometti@linux.it&gt;
<span class="o">[</span>    2.415126<span class="o">]</span> PTP clock support registered
<span class="o">[</span>    2.415528<span class="o">]</span> EDAC MC: Ver: 3.0.0
<span class="o">[</span>    2.418203<span class="o">]</span> dmi: Firmware registration failed.
<span class="o">[</span>    2.423680<span class="o">]</span> Advanced Linux Sound Architecture Driver Initialized.
<span class="o">[</span>    2.435610<span class="o">]</span> clocksource: Switched to clocksource arch_sys_counter
<span class="o">[</span>    2.437750<span class="o">]</span> VFS: Disk quotas dquot_6.6.0
<span class="o">[</span>    2.438404<span class="o">]</span> VFS: Dquot-cache <span class="nb">hash </span>table entries: <span class="m">512</span> <span class="o">(</span>order 0, <span class="m">4096</span> bytes<span class="o">)</span>
<span class="o">[</span>    2.442061<span class="o">]</span> pnp: PnP ACPI: disabled
<span class="o">[</span>    2.512388<span class="o">]</span> NET: Registered protocol family 2
<span class="o">[</span>    2.521202<span class="o">]</span> TCP established <span class="nb">hash </span>table entries: <span class="m">32768</span> <span class="o">(</span>order: 6, <span class="m">262144</span> bytes<span class="o">)</span>
<span class="o">[</span>    2.522032<span class="o">]</span> TCP <span class="nb">bind hash </span>table entries: <span class="m">32768</span> <span class="o">(</span>order: 7, <span class="m">524288</span> bytes<span class="o">)</span>
<span class="o">[</span>    2.523324<span class="o">]</span> TCP: Hash tables configured <span class="o">(</span>established <span class="m">32768</span> <span class="nb">bind </span>32768<span class="o">)</span>
<span class="o">[</span>    2.524249<span class="o">]</span> UDP <span class="nb">hash </span>table entries: <span class="m">2048</span> <span class="o">(</span>order: 4, <span class="m">65536</span> bytes<span class="o">)</span>
<span class="o">[</span>    2.524604<span class="o">]</span> UDP-Lite <span class="nb">hash </span>table entries: <span class="m">2048</span> <span class="o">(</span>order: 4, <span class="m">65536</span> bytes<span class="o">)</span>
<span class="o">[</span>    2.527661<span class="o">]</span> NET: Registered protocol family 1
<span class="o">[</span>    2.532836<span class="o">]</span> RPC: Registered named UNIX socket transport module.
<span class="o">[</span>    2.532957<span class="o">]</span> RPC: Registered udp transport module.
<span class="o">[</span>    2.533025<span class="o">]</span> RPC: Registered tcp transport module.
<span class="o">[</span>    2.533083<span class="o">]</span> RPC: Registered tcp NFSv4.1 backchannel transport module.
<span class="o">[</span>    5.548214<span class="o">]</span> hw perfevents: enabled with armv8_pmuv3 PMU driver, <span class="m">1</span> counters available
<span class="o">[</span>    5.557262<span class="o">]</span> futex <span class="nb">hash </span>table entries: <span class="m">1024</span> <span class="o">(</span>order: 5, <span class="m">131072</span> bytes<span class="o">)</span>
<span class="o">[</span>    5.558364<span class="o">]</span> audit: initializing netlink subsys <span class="o">(</span>disabled<span class="o">)</span>
<span class="o">[</span>    5.560843<span class="o">]</span> audit: <span class="nb">type</span><span class="o">=</span><span class="m">2000</span> audit<span class="o">(</span>4.740:1<span class="o">)</span>: initialized
<span class="o">[</span>    5.569157<span class="o">]</span> workingset: <span class="nv">timestamp_bits</span><span class="o">=</span><span class="m">60</span> <span class="nv">max_order</span><span class="o">=</span><span class="m">20</span> <span class="nv">bucket_order</span><span class="o">=</span>0
<span class="o">[</span>    5.580490<span class="o">]</span> NFS: Registering the id_resolver key <span class="nb">type</span>
<span class="o">[</span>    5.581417<span class="o">]</span> Key <span class="nb">type </span>id_resolver registered
<span class="o">[</span>    5.581504<span class="o">]</span> Key <span class="nb">type </span>id_legacy registered
<span class="o">[</span>    5.581707<span class="o">]</span> nfs4filelayout_init: NFSv4 File Layout Driver Registering...
<span class="o">[</span>    5.582278<span class="o">]</span> jffs2: version 2.2. <span class="o">(</span>NAND<span class="o">)</span> <span class="o">(</span>SUMMARY<span class="o">)</span>  Â© 2001-2006 Red Hat, Inc.
<span class="o">[</span>    5.605415<span class="o">]</span> Block layer SCSI generic <span class="o">(</span>bsg<span class="o">)</span> driver version 0.4 loaded <span class="o">(</span>major 247<span class="o">)</span>
<span class="o">[</span>    5.605699<span class="o">]</span> io scheduler noop registered
<span class="o">[</span>    5.605828<span class="o">]</span> io scheduler deadline registered
<span class="o">[</span>    5.606375<span class="o">]</span> io scheduler cfq registered <span class="o">(</span>default<span class="o">)</span>
<span class="o">[</span>    5.611027<span class="o">]</span> nwl-pcie fd0e0000.pcie: BREG is not present
<span class="o">[</span>    5.611171<span class="o">]</span> PCI host bridge /amba/pcie@fd0e0000 ranges:
<span class="o">[</span>    5.611422<span class="o">]</span>   No bus range found <span class="k">for</span> /amba/pcie@fd0e0000, using <span class="o">[</span>bus 00-ff<span class="o">]</span>
<span class="o">[</span>    5.611917<span class="o">]</span>   MEM 0xe0000000..0xefffffff -&gt; 0xe0000000
<span class="o">[</span>    5.612100<span class="o">]</span>   MEM 0x600000000..0x7ffffffff -&gt; 0x600000000
<span class="o">[</span>    5.613427<span class="o">]</span> nwl-pcie fd0e0000.pcie: PCI host bridge to bus 0000:00
<span class="o">[</span>    5.613710<span class="o">]</span> pci_bus 0000:00: root bus resource <span class="o">[</span>bus 00-ff<span class="o">]</span>
<span class="o">[</span>    5.613884<span class="o">]</span> pci_bus 0000:00: root bus resource <span class="o">[</span>mem 0xe0000000-0xefffffff<span class="o">]</span>
<span class="o">[</span>    5.613971<span class="o">]</span> pci_bus 0000:00: root bus resource <span class="o">[</span>mem 0x600000000-0x7ffffffff pref<span class="o">]</span>
<span class="o">[</span>    5.614297<span class="o">]</span> nwl-pcie fd0e0000.pcie: MSI not present
<span class="o">[</span>    5.614405<span class="o">]</span> nwl-pcie fd0e0000.pcie: failed to <span class="nb">enable </span>MSI support: -5
<span class="o">[</span>    5.615665<span class="o">]</span> nwl-pcie: probe of fd0e0000.pcie failed with error -5
<span class="o">[</span>    5.629060<span class="o">]</span> xilinx-dpdma fd4c0000.dma: Xilinx DPDMA engine is probed
<span class="o">[</span>    5.631014<span class="o">]</span> xilinx-zynqmp-dma fd500000.dma: ZynqMP DMA driver Probe success
<span class="o">[</span>    5.631907<span class="o">]</span> xilinx-zynqmp-dma fd510000.dma: ZynqMP DMA driver Probe success
<span class="o">[</span>    5.632716<span class="o">]</span> xilinx-zynqmp-dma fd520000.dma: ZynqMP DMA driver Probe success
<span class="o">[</span>    5.633562<span class="o">]</span> xilinx-zynqmp-dma fd530000.dma: ZynqMP DMA driver Probe success
<span class="o">[</span>    5.634367<span class="o">]</span> xilinx-zynqmp-dma fd540000.dma: ZynqMP DMA driver Probe success
<span class="o">[</span>    5.635430<span class="o">]</span> xilinx-zynqmp-dma fd550000.dma: ZynqMP DMA driver Probe success
<span class="o">[</span>    5.636262<span class="o">]</span> xilinx-zynqmp-dma fd560000.dma: ZynqMP DMA driver Probe success
<span class="o">[</span>    5.637089<span class="o">]</span> xilinx-zynqmp-dma fd570000.dma: ZynqMP DMA driver Probe success
<span class="o">[</span>    5.637693<span class="o">]</span> xilinx-zynqmp-dma ffa80000.dma: main clock not found.
<span class="o">[</span>    5.637780<span class="o">]</span> xilinx-zynqmp-dma ffa80000.dma: Probing channel failed
<span class="o">[</span>    5.642269<span class="o">]</span> xilinx-zynqmp-dma: probe of ffa80000.dma failed with error -2
<span class="o">[</span>    5.643265<span class="o">]</span> xilinx-zynqmp-dma ffa90000.dma: main clock not found.
<span class="o">[</span>    5.643342<span class="o">]</span> xilinx-zynqmp-dma ffa90000.dma: Probing channel failed
<span class="o">[</span>    5.643487<span class="o">]</span> xilinx-zynqmp-dma: probe of ffa90000.dma failed with error -2
<span class="o">[</span>    5.643874<span class="o">]</span> xilinx-zynqmp-dma ffaa0000.dma: main clock not found.
<span class="o">[</span>    5.643946<span class="o">]</span> xilinx-zynqmp-dma ffaa0000.dma: Probing channel failed
<span class="o">[</span>    5.644084<span class="o">]</span> xilinx-zynqmp-dma: probe of ffaa0000.dma failed with error -2
<span class="o">[</span>    5.644479<span class="o">]</span> xilinx-zynqmp-dma ffab0000.dma: main clock not found.
<span class="o">[</span>    5.644550<span class="o">]</span> xilinx-zynqmp-dma ffab0000.dma: Probing channel failed
<span class="o">[</span>    5.644689<span class="o">]</span> xilinx-zynqmp-dma: probe of ffab0000.dma failed with error -2
<span class="o">[</span>    5.645065<span class="o">]</span> xilinx-zynqmp-dma ffac0000.dma: main clock not found.
<span class="o">[</span>    5.645136<span class="o">]</span> xilinx-zynqmp-dma ffac0000.dma: Probing channel failed
<span class="o">[</span>    5.645276<span class="o">]</span> xilinx-zynqmp-dma: probe of ffac0000.dma failed with error -2
<span class="o">[</span>    5.645650<span class="o">]</span> xilinx-zynqmp-dma ffad0000.dma: main clock not found.
<span class="o">[</span>    5.645720<span class="o">]</span> xilinx-zynqmp-dma ffad0000.dma: Probing channel failed
<span class="o">[</span>    5.645862<span class="o">]</span> xilinx-zynqmp-dma: probe of ffad0000.dma failed with error -2
<span class="o">[</span>    5.646245<span class="o">]</span> xilinx-zynqmp-dma ffae0000.dma: main clock not found.
<span class="o">[</span>    5.646315<span class="o">]</span> xilinx-zynqmp-dma ffae0000.dma: Probing channel failed
<span class="o">[</span>    5.646514<span class="o">]</span> xilinx-zynqmp-dma: probe of ffae0000.dma failed with error -2
<span class="o">[</span>    5.647474<span class="o">]</span> xilinx-zynqmp-dma ffaf0000.dma: main clock not found.
<span class="o">[</span>    5.647545<span class="o">]</span> xilinx-zynqmp-dma ffaf0000.dma: Probing channel failed
<span class="o">[</span>    5.647686<span class="o">]</span> xilinx-zynqmp-dma: probe of ffaf0000.dma failed with error -2
<span class="o">[</span>    5.648791<span class="o">]</span> xenfs: not registering filesystem on non-xen platform
<span class="o">[</span>    6.133190<span class="o">]</span> Serial: 8250/16550 driver, <span class="m">4</span> ports, IRQ sharing disabled
<span class="o">[</span>    6.147110<span class="o">]</span> ff000000.serial: ttyPS0 at MMIO 0xff000000 <span class="o">(</span><span class="nv">irq</span> <span class="o">=</span> 220, <span class="nv">base_baud</span> <span class="o">=</span> 6250000<span class="o">)</span> is a xuartps
<span class="o">[</span>    6.194427<span class="o">]</span> console <span class="o">[</span>ttyPS0<span class="o">]</span> enabled
<span class="o">[</span>    6.196796<span class="o">]</span> ff010000.serial: ttyPS1 at MMIO 0xff010000 <span class="o">(</span><span class="nv">irq</span> <span class="o">=</span> 221, <span class="nv">base_baud</span> <span class="o">=</span> 6250000<span class="o">)</span> is a xuartps
<span class="o">[</span>    6.199730<span class="o">]</span> <span class="o">[</span>drm<span class="o">]</span> Initialized drm 1.1.0 20060810
<span class="o">[</span>    6.278223<span class="o">]</span> brd: module loaded
<span class="o">[</span>    6.316143<span class="o">]</span> loop: module loaded
<span class="o">[</span>    6.326207<span class="o">]</span> ahci-ceva fd0c0000.ahci: AHCI 0001.0000 <span class="m">32</span> slots <span class="m">2</span> ports 1.5 Gbps 0x3 impl platform mode
<span class="o">[</span>    6.327042<span class="o">]</span> ahci-ceva fd0c0000.ahci: flags: ncq only
<span class="o">[</span>    6.339776<span class="o">]</span> scsi host0: ahci-ceva
<span class="o">[</span>    6.343797<span class="o">]</span> scsi host1: ahci-ceva
<span class="o">[</span>    6.345032<span class="o">]</span> ata1: SATA max UDMA/133 mmio <span class="o">[</span>mem 0xfd0c0000-0xfd0c1fff<span class="o">]</span> port 0x100 irq 217
<span class="o">[</span>    6.345559<span class="o">]</span> ata2: SATA max UDMA/133 mmio <span class="o">[</span>mem 0xfd0c0000-0xfd0c1fff<span class="o">]</span> port 0x180 irq 217
<span class="o">[</span>    6.351502<span class="o">]</span> mtdoops: mtd device <span class="o">(</span><span class="nv">mtddev</span><span class="o">=</span>name/number<span class="o">)</span> must be supplied
<span class="o">[</span>    6.367754<span class="o">]</span> m25p80 spi0.0: found n25q512a, expected m25p80
<span class="o">[</span>    6.371471<span class="o">]</span> m25p80 spi0.0: Controller not in SPI_TX_QUAD mode, just use extended SPI mode
<span class="o">[</span>    6.372882<span class="o">]</span> m25p80 spi0.0: n25q512a <span class="o">(</span><span class="m">131072</span> Kbytes<span class="o">)</span>
<span class="o">[</span>    6.373984<span class="o">]</span> <span class="m">8</span> ofpart partitions found on MTD device spi0.0
<span class="o">[</span>    6.374364<span class="o">]</span> Creating <span class="m">8</span> MTD partitions on <span class="s2">&quot;spi0.0&quot;</span>:
<span class="o">[</span>    6.375502<span class="o">]</span> 0x000000000000-0x000001e00000 : <span class="s2">&quot;boot&quot;</span>
<span class="o">[</span>    6.383639<span class="o">]</span> 0x000001e00000-0x000001e40000 : <span class="s2">&quot;bootenv&quot;</span>
<span class="o">[</span>    6.390148<span class="o">]</span> 0x000001e40000-0x000004240000 : <span class="s2">&quot;kernel&quot;</span>
<span class="o">[</span>    6.397053<span class="o">]</span> 0x000004240000-0x000008000000 : <span class="s2">&quot;spare&quot;</span>
<span class="o">[</span>    6.403935<span class="o">]</span> 0x000000000000-0x000000100000 : <span class="s2">&quot;qspi-fsbl-uboot&quot;</span>
<span class="o">[</span>    6.410408<span class="o">]</span> 0x000000100000-0x000000600000 : <span class="s2">&quot;qspi-linux&quot;</span>
<span class="o">[</span>    6.417533<span class="o">]</span> 0x000000600000-0x000000620000 : <span class="s2">&quot;qspi-device-tree&quot;</span>
<span class="o">[</span>    6.424282<span class="o">]</span> 0x000000620000-0x000000c00000 : <span class="s2">&quot;qspi-rootfs&quot;</span>
<span class="o">[</span>    6.452311<span class="o">]</span> libphy: Fixed MDIO Bus: probed
<span class="o">[</span>    6.454606<span class="o">]</span> hrtimer: interrupt took <span class="m">11889400</span> ns
<span class="o">[</span>    6.461270<span class="o">]</span> CAN device driver interface
<span class="o">[</span>    6.482765<span class="o">]</span> gpiod_set_value: invalid GPIO
<span class="o">[</span>    6.486323<span class="o">]</span> libphy: MACB_mii_bus: probed
<span class="o">[</span>    6.643407<span class="o">]</span> macb ff0e0000.ethernet eth0: Cadence GEM rev 0x40070106 at 0xff0e0000 irq <span class="m">30</span> <span class="o">(</span>00:0a:35:00:02:90<span class="o">)</span>
<span class="o">[</span>    6.644034<span class="o">]</span> Marvell 88E1118 ff0e0000.etherne:0c: attached PHY driver <span class="o">[</span>Marvell 88E1118<span class="o">]</span> <span class="o">(</span>mii_bus:phy_addr<span class="o">=</span>ff0e0000.etherne:0c, <span class="nv">irq</span><span class="o">=</span>-1<span class="o">)</span>
<span class="o">[</span>    6.652783<span class="o">]</span> dwc3 fe200000.dwc3: this is not a DesignWare USB3 DRD Core
<span class="o">[</span>    6.653170<span class="o">]</span> dwc3 fe200000.dwc3: failed to initialize core
<span class="o">[</span>    6.653910<span class="o">]</span> ehci_hcd: USB 2.0 <span class="s1">&#39;Enhanced&#39;</span> Host Controller <span class="o">(</span>EHCI<span class="o">)</span> Driver
<span class="o">[</span>    6.654322<span class="o">]</span> ehci-pci: EHCI PCI platform driver
<span class="o">[</span>    6.660339<span class="o">]</span> usbcore: registered new interface driver uas
<span class="o">[</span>    6.662177<span class="o">]</span> usbcore: registered new interface driver usb-storage
<span class="o">[</span>    6.668015<span class="o">]</span> ata1: SATA link down <span class="o">(</span>SStatus <span class="m">0</span> SControl 300<span class="o">)</span>
<span class="o">[</span>    6.671017<span class="o">]</span> mousedev: PS/2 mouse device common <span class="k">for</span> all mice
<span class="o">[</span>    6.678445<span class="o">]</span> ata2: SATA link down <span class="o">(</span>SStatus <span class="m">0</span> SControl 300<span class="o">)</span>
<span class="o">[</span>    6.679802<span class="o">]</span> rtc_zynqmp ffa60000.rtc: rtc core: registered ffa60000.rtc as rtc0
<span class="o">[</span>    7.682904<span class="o">]</span> cdns-i2c ff020000.i2c: timeout waiting on completion
<span class="o">[</span>    7.683487<span class="o">]</span> pca953x 0-0020: failed reading register
<span class="o">[</span>    7.683886<span class="o">]</span> pca953x: probe of 0-0020 failed with error -110
<span class="o">[</span>    8.682846<span class="o">]</span> cdns-i2c ff020000.i2c: timeout waiting on completion
<span class="o">[</span>    8.683281<span class="o">]</span> pca953x 0-0021: failed reading register
<span class="o">[</span>    8.683660<span class="o">]</span> pca953x: probe of 0-0021 failed with error -110
<span class="o">[</span>    8.684718<span class="o">]</span> cdns-i2c ff020000.i2c: <span class="m">400</span> kHz mmio ff020000 irq 206
<span class="o">[</span>    8.687234<span class="o">]</span> cdns-i2c ff030000.i2c: <span class="m">400</span> kHz mmio ff030000 irq 207
<span class="o">[</span>    9.690824<span class="o">]</span> cdns-i2c ff020000.i2c: timeout waiting on completion
<span class="o">[</span>    9.691299<span class="o">]</span> pca954x 0-0075: probe failed
<span class="o">[</span>    9.697308<span class="o">]</span> at24 2-0054: <span class="m">1024</span> byte 24c08 EEPROM, writable, <span class="m">1</span> bytes/write
<span class="o">[</span>    9.697807<span class="o">]</span> i2c i2c-2: Failed to register i2c client 24c08 at 0x55 <span class="o">(</span>-16<span class="o">)</span>
<span class="o">[</span>    9.698228<span class="o">]</span> i2c i2c-2: of_i2c: Failure registering /amba/i2c@ff030000/i2cswitch@74/i2c@0/eeprom@55
<span class="o">[</span>    9.699666<span class="o">]</span> i2c i2c-2: Failed to register i2c client 24c08 at 0x56 <span class="o">(</span>-16<span class="o">)</span>
<span class="o">[</span>    9.700054<span class="o">]</span> i2c i2c-2: of_i2c: Failure registering /amba/i2c@ff030000/i2cswitch@74/i2c@0/eeprom@56
<span class="o">[</span>    9.700547<span class="o">]</span> i2c i2c-2: Failed to register i2c client 24c08 at 0x57 <span class="o">(</span>-16<span class="o">)</span>
<span class="o">[</span>    9.700925<span class="o">]</span> i2c i2c-2: of_i2c: Failure registering /amba/i2c@ff030000/i2cswitch@74/i2c@0/eeprom@57
<span class="o">[</span>    9.701507<span class="o">]</span> i2c i2c-1: Added multiplexed i2c bus 2
<span class="o">[</span>    9.704083<span class="o">]</span> i2c i2c-1: Added multiplexed i2c bus 3
<span class="o">[</span>    9.705043<span class="o">]</span> i2c i2c-1: Added multiplexed i2c bus 4
<span class="o">[</span>    9.705977<span class="o">]</span> i2c i2c-1: Added multiplexed i2c bus 5
<span class="o">[</span>    9.707779<span class="o">]</span> i2c i2c-1: Added multiplexed i2c bus 6
<span class="o">[</span>    9.708423<span class="o">]</span> i2c i2c-1: Added multiplexed i2c bus 7
<span class="o">[</span>    9.709008<span class="o">]</span> i2c i2c-1: Added multiplexed i2c bus 8
<span class="o">[</span>    9.709604<span class="o">]</span> i2c i2c-1: Added multiplexed i2c bus 9
<span class="o">[</span>    9.709911<span class="o">]</span> pca954x 1-0074: registered <span class="m">8</span> multiplexed busses <span class="k">for</span> I2C switch pca9548
<span class="o">[</span>    9.714031<span class="o">]</span> pca954x 1-0075: probe failed
<span class="o">[</span>    9.722100<span class="o">]</span> cdns-wdt fd4d0000.watchdog: input clock not found
<span class="o">[</span>    9.723125<span class="o">]</span> cdns-wdt: probe of fd4d0000.watchdog failed with error -2
<span class="o">[</span>    9.724774<span class="o">]</span> EDAC MC: ECC not enabled
<span class="o">[</span>    9.725653<span class="o">]</span> sdhci: Secure Digital Host Controller Interface driver
<span class="o">[</span>    9.725987<span class="o">]</span> sdhci: Copyright<span class="o">(</span>c<span class="o">)</span> Pierre Ossman
<span class="o">[</span>    9.726265<span class="o">]</span> sdhci-pltfm: SDHCI platform and OF driver helper
<span class="o">[</span>    9.778875<span class="o">]</span> mmc0: SDHCI controller on ff170000.sdhci <span class="o">[</span>ff170000.sdhci<span class="o">]</span> using ADMA
<span class="o">[</span>    9.781279<span class="o">]</span> usbcore: registered new interface driver usbhid
<span class="o">[</span>    9.781596<span class="o">]</span> usbhid: USB HID core driver
<span class="o">[</span>    9.789742<span class="o">]</span> Mali: ERR: /proj/petalinux/petalinux-v2016.3_1016_1/petalinux-v2016.3-final/components/linux-kernel/xlnx-4.6/drivers/staging/mali/DX910-SW-99002-r5p1-01rel0/driver/src/devicedrv/mali/common/mali_pp.c
<span class="o">[</span>    9.790869<span class="o">]</span>            mali_pp_reset_wait<span class="o">()</span> 267
           Mali PP: Failed to reset core Mali_PP0, rawstat: 0x00000000
<span class="o">[</span>    9.791496<span class="o">]</span>
<span class="o">[</span>    9.791725<span class="o">]</span> Mali: ERR: /proj/petalinux/petalinux-v2016.3_1016_1/petalinux-v2016.3-final/components/linux-kernel/xlnx-4.6/drivers/staging/mali/DX910-SW-99002-r5p1-01rel0/driver/src/devicedrv/mali/common/mali_kernel_core.c
<span class="o">[</span>    9.792630<span class="o">]</span>            mali_parse_product_info<span class="o">()</span> 164
           Failed to create initial PP object
<span class="o">[</span>    9.793121<span class="o">]</span>
<span class="o">[</span>    9.795333<span class="o">]</span> Mali: ERR: /proj/petalinux/petalinux-v2016.3_1016_1/petalinux-v2016.3-final/components/linux-kernel/xlnx-4.6/drivers/staging/mali/DX910-SW-99002-r5p1-01rel0/driver/src/devicedrv/mali/linux/mali_kernel_linux.c
<span class="o">[</span>    9.796249<span class="o">]</span>            mali_probe<span class="o">()</span> 503
           mali_probe<span class="o">()</span>: Failed to initialize Mali device driver.
<span class="o">[</span>    9.796942<span class="o">]</span> mali-utgard: probe of fd4b0000.gpu failed with error -14
<span class="o">[</span>    9.797705<span class="o">]</span> Mali: Mali device driver loaded
<span class="o">[</span>    9.814204<span class="o">]</span> si570 4-005d: registered, current frequency <span class="m">300000000</span> Hz
<span class="o">[</span>    9.824106<span class="o">]</span> mmc0: new SD card at address 4567
<span class="o">[</span>    9.828593<span class="o">]</span> mmcblk0: mmc0:4567 QEMU! <span class="m">256</span> MiB
<span class="o">[</span>    9.830812<span class="o">]</span> si570 5-005d: registered, current frequency <span class="m">148500000</span> Hz
<span class="o">[</span>    9.839790<span class="o">]</span> pktgen: Packet Generator <span class="k">for</span> packet performance testing. Version: 2.75
<span class="o">[</span>    9.851179<span class="o">]</span>  mmcblk0:
<span class="o">[</span>    9.855338<span class="o">]</span> Initializing XFRM netlink socket
<span class="o">[</span>    9.856979<span class="o">]</span> NET: Registered protocol family 10
<span class="o">[</span>    9.866086<span class="o">]</span> sit: IPv6 over IPv4 tunneling driver
<span class="o">[</span>    9.869852<span class="o">]</span> NET: Registered protocol family 17
<span class="o">[</span>    9.870363<span class="o">]</span> NET: Registered protocol family 15
<span class="o">[</span>    9.872048<span class="o">]</span> can: controller area network core <span class="o">(</span>rev <span class="m">20120528</span> abi 9<span class="o">)</span>
<span class="o">[</span>    9.872780<span class="o">]</span> NET: Registered protocol family 29
<span class="o">[</span>    9.873239<span class="o">]</span> can: raw protocol <span class="o">(</span>rev 20120528<span class="o">)</span>
<span class="o">[</span>    9.873582<span class="o">]</span> can: broadcast manager protocol <span class="o">(</span>rev <span class="m">20120528</span> t<span class="o">)</span>
<span class="o">[</span>    9.873975<span class="o">]</span> can: netlink gateway <span class="o">(</span>rev 20130117<span class="o">)</span> <span class="nv">max_hops</span><span class="o">=</span>1
<span class="o">[</span>    9.875647<span class="o">]</span> Key <span class="nb">type </span>dns_resolver registered
<span class="o">[</span>    9.879426<span class="o">]</span> registered taskstats version 1
<span class="o">[</span>    9.886287<span class="o">]</span> Btrfs loaded
<span class="o">[</span>    9.891849<span class="o">]</span> rtc_zynqmp ffa60000.rtc: setting system clock to 2106-02-07 06:28:15 UTC <span class="o">(</span>4294967295<span class="o">)</span>
<span class="o">[</span>    9.893275<span class="o">]</span> ALSA device list:
<span class="o">[</span>    9.893491<span class="o">]</span>   No soundcards found.
<span class="o">[</span>    9.975658<span class="o">]</span> Freeing unused kernel memory: 25912K <span class="o">(</span>ffffff8008a74000 - ffffff800a3c2000<span class="o">)</span>
<span class="o">[</span>    9.976401<span class="o">]</span> This architecture does not have kernel memory protection.
INIT: version 2.88 booting
<span class="o">[</span>   12.707694<span class="o">]</span> FAT-fs <span class="o">(</span>mmcblk0<span class="o">)</span>: Volume was not properly unmounted. Some data may be corrupt. Please run fsck.
Creating /dev/flash/* device nodes
<span class="o">[</span>   25.994925<span class="o">]</span> random: dd urandom <span class="nb">read </span>with <span class="m">4</span> bits of entropy available
Starting internet superserver: inetd.
INIT: Entering runlevel: 5
Configuring network interfaces... <span class="o">[</span>   29.023716<span class="o">]</span> IPv6: ADDRCONF<span class="o">(</span>NETDEV_UP<span class="o">)</span>: eth0: link is not ready
udhcpc <span class="o">(</span>v1.24.1<span class="o">)</span> started
Sending discover...
<span class="o">[</span>   30.767855<span class="o">]</span> macb ff0e0000.ethernet eth0: unable to generate target frequency: <span class="m">25000000</span> Hz
<span class="o">[</span>   30.768484<span class="o">]</span> macb ff0e0000.ethernet eth0: link up <span class="o">(</span>100/Half<span class="o">)</span>
<span class="o">[</span>   30.769303<span class="o">]</span> IPv6: ADDRCONF<span class="o">(</span>NETDEV_CHANGE<span class="o">)</span>: eth0: link becomes ready
Sending discover...
Sending discover...
No lease, forking to background
<span class="k">done</span>.
Starting Dropbear SSH server: Generating key, this may take a <span class="k">while</span>...
Public key portion is:
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC5c2KnormVHnPlOMddE1ea1cDmsoqUSIa779m5k1VNvAikoJ6iL/Q4W7idWwnql5GlbkRwvhtCZ4JnkESDOa7L7zFeaKBZOynNB9JVglV09Ot+qHcx+JB/DtlF1w+6dtbQkHMbDb+DFa5xt38fjIsLjkZUSm3rCq6TMcnDhNoBumvAkNa4ay8DXNNIj9LnaE3mQjCGYAhw1ECmTZUAPa492ZRJeuDYr8wd/KgWEECm66U0Uhm9FzrY32jtSD58sTcSa6UpG0sky+alW3hfjLhoSdHo2YFAerD3hG8DILFnS5YauO/L/zEns1ZNddlW1Wn8aJL3mgC8lnw43B0+HUIR root@Xilinx-ZCU102-2016_3
Fingerprint: md5 98:fd:0b:52:9e:81:43:e2:5b:f4:6e:58:37:a8:64:d5
dropbear.
Warning unable to detect baudrate, use 115200!
Use default dev ttyPS0
Running dynamic getty on ttyPS0/115200

PetaLinux 2016.3 Xilinx-ZCU102-2016_3 /dev/ttyPS0
Xilinx-ZCU102-2016_3 login: root
Password:
login<span class="o">[</span>1851<span class="o">]</span>: root login on <span class="s1">&#39;ttyPS0&#39;</span>
root@Xilinx-ZCU102-2016_3:~#</code></pre></figure>

<p>Enjoy!</p>

	</div>

<!--	
	<div class='share-button-container'>
		<p>Like it? Share it!</p>
		<div class='share-button share-button-twitter' data-share-url="http://weweng.github.io/2016/12/xilinx-MPSoC-ultrascale-dev/">
			<div clas='box'>
				<a href="https://twitter.com/share?url=http://weweng.github.io%2F2016%2F12%2Fxilinx-MPSoC-ultrascale-dev%2F&text=xilinx ARM MPSoc+ultrascale software run in QEMU&via=weweng" target='_blank'>
					<span class='share'>Tweet</span>
					<span class='count'>0</span>
				</a>
			</div>
		</div>

		<div class="share-button share-button-facebook" data-share-url="http://weweng.github.io/2016/12/xilinx-MPSoC-ultrascale-dev/">
			<div class="box">
				<a href="https://www.facebook.com/sharer/sharer.php?u=http://weweng.github.io%2F2016%2F12%2Fxilinx-MPSoC-ultrascale-dev%2F">
					<span class='share'>Share</span>
					<span class='count'>0</span>
				</a>
			</div>
		</div>
	</div>
-->

</section>

<div id='comments'>
	<div id='disqus_thread'></div>
	<script type='text/javascript'>
		var disqus_shortname = 'wewenggithubio';
		(function() {
			var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
			(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
	</script>

	<noscript>Please enable JavaScript to view the comments</noscript>
</div>
<script type='text/javascript' src='/assets/js/StaticShareButtons.js'></script>


	</div>

	<footer class='footer'>
		<span>Copyright 2015-2017, Wenwei Weng</span>
	</footer>
</div>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62997612-1', 'auto');
  ga('send', 'pageview');

</script>


<script type="text/javascript">
// Open external links in new tab
(window.onload = function(){
	var links = document.links;

	for(i=0; i<=links.length -1; i++){
		if(links[i].hostname != window.location.hostname){
			links[i].target = '_blank';
		}
	}
})();
</script>
</body>
</html>
