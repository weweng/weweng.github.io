<!DOCTYPE html>
<html>
<head>
	<meta charset='UTF-8'>
	<title>Linux disk management (1) - basics and using fdisk | Wenwei's tech Blog</title>
	<link rel='alternate' type='application/rss+xml' title='Wenwei Feed' href='http://weweng.github.io/atom.xml'>
	<meta name='description' content=''/>
	<meta name='keywords' content='Linux disk management fdisk partition file system'/>
	<meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no'>
	<meta name='theme-color' content='#655B54'>
	<link rel='shortcut icon' href='/assets/favicon.ico' type='image/x-icon'> 
	<!--- <link rel='icon' href='/assets/favicon.ico' type='image/x-icon'> --->
<link rel='icon' href='/assets/blogger.png' type='image/x-png'>

	<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700' rel='stylesheet' type='text/css'>
	<link rel='stylesheet' type='text/css' href='/assets/css/code-highlighter.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/default.min.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/github.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/pure-base-min.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/pure-grids-responsive-min.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/pure-menus-min.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/pure-tables-min.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/social-buttons.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/weweng.css' />


	
</head>
<body>

<div class='pure-g' id='layout'>
    <div class='sidebar pure-u-1 pure-u-md-1-4'>
      <div class='header'>
	<nav class='nav'>
	  <ul class='nav-list'>
	    <li class='nav-item'>
	      <strong> <a href='/workblog.html'>Blog</a> </strong>
	    </li>
<!--
	    <li class='nav-item'>
	      <strong> <a href='/study/index.html'>Study</a> </strong>
	    </li>
	    <li class='nav-item'>
	      <strong> <a href='/projects/index.html'>Projects</a> </strong>
	    </li>
-->
<!--
            <li class='nav-item'>
              <strong> <a href='/services/index.html'>读书笔记</a> </strong>
            </li>
-->
	    <li class='nav-item'>
	      <strong><a href='/aboutme.html'>About Me</a></strong>
	    </li>
	</ul>
	</nav>
	<br> 
	<h1 class='brand-title'>
	  <a href='/index.html'>
		<img src='/assets/img/avatar.png' height='100'/>
	  </a>
	</h1>
      </div>
</div>

<div class='pure-u-1'>
	<div class='content'>
		<section class='post'>
	<header class='post-header'>
		<h2 class='post-title'> Linux disk management (1) - basics and using fdisk </h2>
		<p class='post-meta'>
			Posted on <time class='date' datetime='2016-07-27T00:00:00+01:00'>27 Jul 2016</time>
		</p>
	</header>

	<div class='post-description'>
		<p>In Linux world, disk management is an important area. To know how to use the disk, there are a few basic concepts need to be well understood. The key tool to administrate disk is fdisk.</p>

<p><img src="/uploads/linux/fdisk.jpg" alt="Linux fdisk"></p>

<!--more-->

<h1>Basic concepts</h1>

<h2>1. naming conventions</h2>

<p>Linux has the different naming conventions for IDE drives, SCSI Disks, SD card.
<ul>
 <li>IDE drives: device names are like /dev/hda, /dev/hdb. </li>
 <li>SCSI Drives: device names would be /dev/sda, /dev/sdb. </li>
 <li>SD card: device names would be /dev/mmcblk0, /dev/mmcblk1. </li>
</ul>
Note: USB storage device is detected as SCSI drives.
Also there is a special device file /dev/loop[0-7], which can be used to link to a disk file. we will cover it in another post.</p>

<h2>2. partitioning</h2>

<p>There are two different partition types: <b>primary</b> and <b>extended</b> partition. On one physical disk, it can have up to 4 primary partitions only. In order to have more partitions to be created, extended partition is introduced. Inside the extended partition, the <b>logical</b> partition can be created. There is no limit of number of logical partitions to be created inside an extended partition.</p>

<h2>3. file systems</h2>

<p>A filesystem is the methods and data structures that an operating system uses to keep track of files on a partition. In Linux, there are a number of different file systems supported for disk: FAT, ext2, ext3, ext4. To find what are all supported file systems in a running linux, do &quot;cat /proc/filesystems&quot;.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">weng@weng-u1604:~<span class="nv">$ </span>cat /proc/filesystems
nodev   sysfs
nodev   rootfs
nodev   ramfs
nodev   bdev
nodev   proc
nodev   cpuset
nodev   cgroup
nodev   tmpfs
nodev   devtmpfs
nodev   debugfs
nodev   tracefs
nodev   securityfs
nodev   sockfs
nodev   pipefs
nodev   devpts
    ext3
    ext2
    ext4
nodev   hugetlbfs
    vfat
nodev   ecryptfs
    fuseblk
nodev   fuse
nodev   fusectl
nodev   pstore
nodev   mqueue
nodev   autofs
nodev   vboxsf
weng@weng-u1604:~<span class="err">$</span></code></pre></figure>

<p><hr></p>

<h1>Administrate tool: fdisk</h1>

<p>There are many disk administrating tools to edit disk partitions: most popular tool is fdisk.</p>

<p><a href="http://gparted.org/">GParted</a> is a fancy tool, can create, resize partitions. Here we focus on &quot;fdisk&quot; tool as it is avaiable in most linux enviroment.</p>

<h2>1. Find the list of existing hard disks</h2>

<p>Below is output from my ubuntu 16.04 VM running inside VirtualBox.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">weng@weng-u1604:~<span class="nv">$ </span>sudo fdisk -l
Disk /dev/sda: <span class="m">200</span> GiB, <span class="m">214748364800</span> bytes, <span class="m">419430400</span> sectors
Units: sectors of <span class="m">1</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">512</span> bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
Disklabel <span class="nb">type</span>: dos
Disk identifier: 0x6bd39d03

Device     Boot     Start       End   Sectors  Size Id Type
/dev/sda1  *         <span class="m">2048</span> <span class="m">411043839</span> <span class="m">411041792</span>  196G <span class="m">83</span> Linux
/dev/sda2       <span class="m">411045886</span> <span class="m">419428351</span>   <span class="m">8382466</span>    4G  <span class="m">5</span> Extended
/dev/sda5       <span class="m">411045888</span> <span class="m">419428351</span>   <span class="m">8382464</span>    4G <span class="m">82</span> Linux swap / Solaris
weng@weng-u1604:~<span class="nv">$ </span></code></pre></figure>

<p>In this case, the majority space is allocated in primary parition &quot;/dev/sda1&quot;, and &quot;/dev/sda2&quot; is created as a extended partition, which has a logical partition &quot;/dev/sda5&quot; used as swap space.</p>

<p>Another example below from a centos box, which has a 1 T SCSI hard drive and a 1GB USB memory stick inserted.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># fdisk -l</span>

Disk /dev/sda: 1000.2 GB, <span class="m">1000204886016</span> bytes
<span class="m">255</span> heads, <span class="m">63</span> sectors/track, <span class="m">121601</span> cylinders
<span class="nv">Units</span> <span class="o">=</span> cylinders of <span class="m">16065</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">8225280</span> bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
Disk identifier: 0x000afcd6

   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *           <span class="m">1</span>          <span class="m">64</span>      <span class="m">512000</span>   <span class="m">83</span>  Linux
/dev/sda2              <span class="m">64</span>      <span class="m">121602</span>   <span class="m">976248832</span>   8e  Linux LVM

Disk /dev/mapper/vg_sgcentoshv1-lv_root: 53.7 GB, <span class="m">53687091200</span> bytes
<span class="m">255</span> heads, <span class="m">63</span> sectors/track, <span class="m">6527</span> cylinders
<span class="nv">Units</span> <span class="o">=</span> cylinders of <span class="m">16065</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">8225280</span> bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
Disk identifier: 0x00000000


Disk /dev/mapper/vg_sgcentoshv1-lv_swap: 25.3 GB, <span class="m">25341984768</span> bytes
<span class="m">255</span> heads, <span class="m">63</span> sectors/track, <span class="m">3080</span> cylinders
<span class="nv">Units</span> <span class="o">=</span> cylinders of <span class="m">16065</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">8225280</span> bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
Disk identifier: 0x00000000


Disk /dev/mapper/vg_sgcentoshv1-lv_home: 920.6 GB, <span class="m">920645533696</span> bytes
<span class="m">255</span> heads, <span class="m">63</span> sectors/track, <span class="m">111928</span> cylinders
<span class="nv">Units</span> <span class="o">=</span> cylinders of <span class="m">16065</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">8225280</span> bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
Disk identifier: 0x00000000


Disk /dev/sdb: <span class="m">1037</span> MB, <span class="m">1037041664</span> bytes
<span class="m">185</span> heads, <span class="m">1</span> sectors/track, <span class="m">10948</span> cylinders
<span class="nv">Units</span> <span class="o">=</span> cylinders of <span class="m">185</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">94720</span> bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
Disk identifier: 0xc3072e18

   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1   *           <span class="m">1</span>       <span class="m">10584</span>      978943+   <span class="m">6</span>  FAT16
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># fdisk -l /dev/sdb</span>

Disk /dev/sdb: <span class="m">1037</span> MB, <span class="m">1037041664</span> bytes
<span class="m">185</span> heads, <span class="m">1</span> sectors/track, <span class="m">10948</span> cylinders
<span class="nv">Units</span> <span class="o">=</span> cylinders of <span class="m">185</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">94720</span> bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
Disk identifier: 0xc3072e18

   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1   *           <span class="m">1</span>       <span class="m">10584</span>      978943+   <span class="m">6</span>  FAT16
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c">#</span></code></pre></figure>

<p>Some explanantions: there are two physical disks detected as &quot;/dev/sda&quot;, and &quot;dev/sdb&quot;. 
<ul>
<li>&quot;/dev/sda&quot; is the 1T SCSI hard drive, it has one primary partition &quot;/dev/sda1&quot; which is marked bootable; there is second primary partition, which is configured to be usd by Logical Volume Manager (LVM). Inside this partition, there is one Volume Group, which has three Logical Volume created. See next post for details regarding LVM.</li></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># vgdisplay</span>
  --- Volume group ---
  VG Name               vg_sgcentoshv1
  System ID
  Format                lvm2
  Metadata Areas        1
  Metadata Sequence No  4
  VG Access             <span class="nb">read</span>/write
  VG Status             resizable
  MAX LV                0
  Cur LV                3
  Open LV               3
  Max PV                0
  Cur PV                1
  Act PV                1
  VG Size               931.02 GiB
  PE Size               4.00 MiB
  Total PE              238341
  Alloc PE / Size       <span class="m">238341</span> / 931.02 GiB
  Free  PE / Size       <span class="m">0</span> / 0
  VG UUID               3CQarS-xJz8-rzmI-2nxh-j4pK-qUFr-wrRXki

<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># lvdisplay</span>
  --- Logical volume ---
  LV Path                /dev/vg_sgcentoshv1/lv_root
  LV Name                lv_root
  VG Name                vg_sgcentoshv1
  LV UUID                ebnL5k-Gmac-6gqE-PPF5-9925-qRUM-VH24Co
  LV Write Access        <span class="nb">read</span>/write
  LV Creation host, <span class="nb">time </span>sg-centos-hv1.cisco.com, 2014-10-02 14:50:57 -0700
  LV Status              available
  <span class="c"># open                 1</span>
  LV Size                50.00 GiB
  Current LE             12800
  Segments               1
  Allocation             inherit
  Read ahead sectors     auto
  - currently <span class="nb">set </span>to     256
  Block device           253:0

  --- Logical volume ---
  LV Path                /dev/vg_sgcentoshv1/lv_home
  LV Name                lv_home
  VG Name                vg_sgcentoshv1
  LV UUID                qZYut3-A0vR-uKrO-fNR6-22Jp-oa0z-NqmfKy
  LV Write Access        <span class="nb">read</span>/write
  LV Creation host, <span class="nb">time </span>sg-centos-hv1.cisco.com, 2014-10-02 14:51:23 -0700
  LV Status              available
  <span class="c"># open                 1</span>
  LV Size                857.42 GiB
  Current LE             219499
  Segments               1
  Allocation             inherit
  Read ahead sectors     auto
  - currently <span class="nb">set </span>to     256
  Block device           253:2

  --- Logical volume ---
  LV Path                /dev/vg_sgcentoshv1/lv_swap
  LV Name                lv_swap
  VG Name                vg_sgcentoshv1
  LV UUID                BpTs4P-7cIH-C1ee-tajj-lqx2-I2Pq-A9gy3s
  LV Write Access        <span class="nb">read</span>/write
  LV Creation host, <span class="nb">time </span>sg-centos-hv1.cisco.com, 2014-10-02 14:58:08 -0700
  LV Status              available
  <span class="c"># open                 1</span>
  LV Size                23.60 GiB
  Current LE             6042
  Segments               1
  Allocation             inherit
  Read ahead sectors     auto
  - currently <span class="nb">set </span>to     256
  Block device           253:1

<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c">#</span></code></pre></figure>

<p><li>&quot;/dev/sdb&quot; is 1GB USB memory stick, which has FAT16 file system. It will be used in the following to do some fdisk exercise. </li>
</ul></p>

<h2>2. Create partitions interactively</h2>

<h3>2.1 First delete the existing partition which takes all the space.</h3>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># fdisk /dev/sdb</span>

WARNING: DOS-compatible mode is deprecated. It<span class="s1">&#39;s strongly recommended to</span>
<span class="s1">         switch off the mode (command &#39;</span>c<span class="s1">&#39;) and change display units to</span>
<span class="s1">         sectors (command &#39;</span>u<span class="err">&#39;</span><span class="o">)</span>.

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: p

Disk /dev/sdb: <span class="m">1037</span> MB, <span class="m">1037041664</span> bytes
<span class="m">185</span> heads, <span class="m">1</span> sectors/track, <span class="m">10948</span> cylinders
<span class="nv">Units</span> <span class="o">=</span> cylinders of <span class="m">185</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">94720</span> bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
Disk identifier: 0xc3072e18

   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1   *           <span class="m">1</span>       <span class="m">10584</span>      978943+   <span class="m">6</span>  FAT16

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: d
Selected partition 1

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: p

Disk /dev/sdb: <span class="m">1037</span> MB, <span class="m">1037041664</span> bytes
<span class="m">185</span> heads, <span class="m">1</span> sectors/track, <span class="m">10948</span> cylinders
<span class="nv">Units</span> <span class="o">=</span> cylinders of <span class="m">185</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">94720</span> bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
Disk identifier: 0xc3072e18

   Device Boot      Start         End      Blocks   Id  System</code></pre></figure>

<h3>2.2 Create three primary partitions and one extended partition</h3>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: n
Command action
   e   extended
   p   primary partition <span class="o">(</span>1-4<span class="o">)</span>
p
Partition number <span class="o">(</span>1-4<span class="o">)</span>: 1
First cylinder <span class="o">(</span>1-10948, default 1<span class="o">)</span>:
Using default value 1
Last cylinder, +cylinders or +size<span class="o">{</span>K,M,G<span class="o">}</span> <span class="o">(</span>1-10948, default 10948<span class="o">)</span>: +100M

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: p

Disk /dev/sdb: <span class="m">1037</span> MB, <span class="m">1037041664</span> bytes
<span class="m">185</span> heads, <span class="m">1</span> sectors/track, <span class="m">10948</span> cylinders
<span class="nv">Units</span> <span class="o">=</span> cylinders of <span class="m">185</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">94720</span> bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
Disk identifier: 0xc3072e18

   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1               <span class="m">1</span>        <span class="m">1108</span>      102489+  <span class="m">83</span>  Linux

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: n
Command action
   e   extended
   p   primary partition <span class="o">(</span>1-4<span class="o">)</span>
p
Partition number <span class="o">(</span>1-4<span class="o">)</span>: 2
First cylinder <span class="o">(</span>1109-10948, default 1109<span class="o">)</span>:
Using default value 1109
Last cylinder, +cylinders or +size<span class="o">{</span>K,M,G<span class="o">}</span> <span class="o">(</span>1109-10948, default 10948<span class="o">)</span>: +200M

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: n
Command action
   e   extended
   p   primary partition <span class="o">(</span>1-4<span class="o">)</span>
p
Partition number <span class="o">(</span>1-4<span class="o">)</span>: 3
First cylinder <span class="o">(</span>3324-10948, default 3324<span class="o">)</span>:
Using default value 3324
Last cylinder, +cylinders or +size<span class="o">{</span>K,M,G<span class="o">}</span> <span class="o">(</span>3324-10948, default 10948<span class="o">)</span>: +100M

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: n
Command action
   e   extended
   p   primary partition <span class="o">(</span>1-4<span class="o">)</span>
e
Selected partition 4
First cylinder <span class="o">(</span>4432-10948, default 4432<span class="o">)</span>:
Using default value 4432
Last cylinder, +cylinders or +size<span class="o">{</span>K,M,G<span class="o">}</span> <span class="o">(</span>4432-10948, default 10948<span class="o">)</span>:
Using default value 10948

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: p

Disk /dev/sdb: <span class="m">1037</span> MB, <span class="m">1037041664</span> bytes
<span class="m">185</span> heads, <span class="m">1</span> sectors/track, <span class="m">10948</span> cylinders
<span class="nv">Units</span> <span class="o">=</span> cylinders of <span class="m">185</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">94720</span> bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
Disk identifier: 0xc3072e18

   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1               <span class="m">1</span>        <span class="m">1108</span>      102489+  <span class="m">83</span>  Linux
/dev/sdb2            <span class="m">1109</span>        <span class="m">3323</span>      204887+  <span class="m">83</span>  Linux
/dev/sdb3            <span class="m">3324</span>        <span class="m">4431</span>      <span class="m">102490</span>   <span class="m">83</span>  Linux
/dev/sdb4            <span class="m">4432</span>       <span class="m">10948</span>      602822+   <span class="m">5</span>  Extended</code></pre></figure>

<h3>2.3 Create one logical partition inside extended partition</h3>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: n
First cylinder <span class="o">(</span>4432-10948, default 4432<span class="o">)</span>:
Using default value 4432
Last cylinder, +cylinders or +size<span class="o">{</span>K,M,G<span class="o">}</span> <span class="o">(</span>4432-10948, default 10948<span class="o">)</span>: +100M

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: p

Disk /dev/sdb: <span class="m">1037</span> MB, <span class="m">1037041664</span> bytes
<span class="m">185</span> heads, <span class="m">1</span> sectors/track, <span class="m">10948</span> cylinders
<span class="nv">Units</span> <span class="o">=</span> cylinders of <span class="m">185</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">94720</span> bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
Disk identifier: 0xc3072e18

   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1               <span class="m">1</span>        <span class="m">1108</span>      102489+  <span class="m">83</span>  Linux
/dev/sdb2            <span class="m">1109</span>        <span class="m">3323</span>      204887+  <span class="m">83</span>  Linux
/dev/sdb3            <span class="m">3324</span>        <span class="m">4431</span>      <span class="m">102490</span>   <span class="m">83</span>  Linux
/dev/sdb4            <span class="m">4432</span>       <span class="m">10948</span>      602822+   <span class="m">5</span>  Extended
/dev/sdb5            <span class="m">4432</span>        <span class="m">5539</span>      102489+  <span class="m">83</span>  Linux

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: n
First cylinder <span class="o">(</span>5540-10948, default 5540<span class="o">)</span>:
Using default value 5540
Last cylinder, +cylinders or +size<span class="o">{</span>K,M,G<span class="o">}</span> <span class="o">(</span>5540-10948, default 10948<span class="o">)</span>:
Using default value 10948

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: p

Disk /dev/sdb: <span class="m">1037</span> MB, <span class="m">1037041664</span> bytes
<span class="m">185</span> heads, <span class="m">1</span> sectors/track, <span class="m">10948</span> cylinders
<span class="nv">Units</span> <span class="o">=</span> cylinders of <span class="m">185</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">94720</span> bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
Disk identifier: 0xc3072e18

   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1               <span class="m">1</span>        <span class="m">1108</span>      102489+  <span class="m">83</span>  Linux
/dev/sdb2            <span class="m">1109</span>        <span class="m">3323</span>      204887+  <span class="m">83</span>  Linux
/dev/sdb3            <span class="m">3324</span>        <span class="m">4431</span>      <span class="m">102490</span>   <span class="m">83</span>  Linux
/dev/sdb4            <span class="m">4432</span>       <span class="m">10948</span>      602822+   <span class="m">5</span>  Extended
/dev/sdb5            <span class="m">4432</span>        <span class="m">5539</span>      102489+  <span class="m">83</span>  Linux
/dev/sdb6            <span class="m">5540</span>       <span class="m">10948</span>      <span class="m">500332</span>   <span class="m">83</span>  Linux</code></pre></figure>

<h3>2.4 Save the partition tables and recheck the table</h3>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: w
The partition table has been altered!

Calling ioctl<span class="o">()</span> to re-read partition table.
Syncing disks.
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># fdisk -l /dev/sdb</span>

Disk /dev/sdb: <span class="m">1037</span> MB, <span class="m">1037041664</span> bytes
<span class="m">185</span> heads, <span class="m">1</span> sectors/track, <span class="m">10948</span> cylinders
<span class="nv">Units</span> <span class="o">=</span> cylinders of <span class="m">185</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">94720</span> bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
Disk identifier: 0xc3072e18

   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1               <span class="m">1</span>        <span class="m">1108</span>      102489+  <span class="m">83</span>  Linux
/dev/sdb2            <span class="m">1109</span>        <span class="m">3323</span>      204887+  <span class="m">83</span>  Linux
/dev/sdb3            <span class="m">3324</span>        <span class="m">4431</span>      <span class="m">102490</span>   <span class="m">83</span>  Linux
/dev/sdb4            <span class="m">4432</span>       <span class="m">10948</span>      602822+   <span class="m">5</span>  Extended
/dev/sdb5            <span class="m">4432</span>        <span class="m">5539</span>      102489+  <span class="m">83</span>  Linux
/dev/sdb6            <span class="m">5540</span>       <span class="m">10948</span>      <span class="m">500332</span>   <span class="m">83</span>  Linux
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c">#</span></code></pre></figure>

<h2>3. Create partitions through shell script</h2>

<p>Soemtimes it is needed to do disk partition in an automatic way. See below that all above steps can be automated:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># D=&quot;p\nd\np\n&quot;</span>
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># P1=&quot;n\np\n1\n\n+100M\n&quot;</span>
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># P2=&quot;n\np\n2\n\n+100M\n&quot;</span>
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># P3=&quot;n\np\n3\n\n+100M\n&quot;</span>
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># P4=&quot;n\ne\n\n\n&quot;</span>
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># P5=&quot;n\n\n+100M\n&quot;</span>
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># P6=&quot;n\n\n\n&quot;</span>
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># FINAL=&quot;p\nw\nq\n&quot;</span>
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># echo -e $D$P1$P2$P3$P4$P5$P6$FINAL | fdisk /dev/sdb</span>

WARNING: DOS-compatible mode is deprecated. It<span class="s1">&#39;s strongly recommended to</span>
<span class="s1">         switch off the mode (command &#39;</span>c<span class="s1">&#39;) and change display units to</span>
<span class="s1">         sectors (command &#39;</span>u<span class="err">&#39;</span><span class="o">)</span>.

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>:
Disk /dev/sdb: <span class="m">1037</span> MB, <span class="m">1037041664</span> bytes
<span class="m">32</span> heads, <span class="m">62</span> sectors/track, <span class="m">1020</span> cylinders
<span class="nv">Units</span> <span class="o">=</span> cylinders of <span class="m">1984</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">1015808</span> bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
Disk identifier: 0xc3072e18

   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1               <span class="m">1</span>         <span class="m">104</span>      <span class="m">103137</span>   <span class="m">83</span>  Linux

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: Selected partition 1

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>:
Disk /dev/sdb: <span class="m">1037</span> MB, <span class="m">1037041664</span> bytes
<span class="m">32</span> heads, <span class="m">62</span> sectors/track, <span class="m">1020</span> cylinders
<span class="nv">Units</span> <span class="o">=</span> cylinders of <span class="m">1984</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">1015808</span> bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
Disk identifier: 0xc3072e18

   Device Boot      Start         End      Blocks   Id  System

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: Command action
   e   extended
   p   primary partition <span class="o">(</span>1-4<span class="o">)</span>
Partition number <span class="o">(</span>1-4<span class="o">)</span>: First cylinder <span class="o">(</span>1-1020, default 1<span class="o">)</span>: Using default value 1
Last cylinder, +cylinders or +size<span class="o">{</span>K,M,G<span class="o">}</span> <span class="o">(</span>1-1020, default 1020<span class="o">)</span>:
Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: Command action
   e   extended
   p   primary partition <span class="o">(</span>1-4<span class="o">)</span>
Partition number <span class="o">(</span>1-4<span class="o">)</span>: First cylinder <span class="o">(</span>105-1020, default 105<span class="o">)</span>: Using default value 105
Last cylinder, +cylinders or +size<span class="o">{</span>K,M,G<span class="o">}</span> <span class="o">(</span>105-1020, default 1020<span class="o">)</span>:
Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: Command action
   e   extended
   p   primary partition <span class="o">(</span>1-4<span class="o">)</span>
Partition number <span class="o">(</span>1-4<span class="o">)</span>: First cylinder <span class="o">(</span>209-1020, default 209<span class="o">)</span>: Using default value 209
Last cylinder, +cylinders or +size<span class="o">{</span>K,M,G<span class="o">}</span> <span class="o">(</span>209-1020, default 1020<span class="o">)</span>:
Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: Command action
   e   extended
   p   primary partition <span class="o">(</span>1-4<span class="o">)</span>
Selected partition 4
First cylinder <span class="o">(</span>313-1020, default 313<span class="o">)</span>: Using default value 313
Last cylinder, +cylinders or +size<span class="o">{</span>K,M,G<span class="o">}</span> <span class="o">(</span>313-1020, default 1020<span class="o">)</span>: Using default value 1020

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: First cylinder <span class="o">(</span>313-1020, default 313<span class="o">)</span>: Using default value 313
Last cylinder, +cylinders or +size<span class="o">{</span>K,M,G<span class="o">}</span> <span class="o">(</span>313-1020, default 1020<span class="o">)</span>:
Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: First cylinder <span class="o">(</span>417-1020, default 417<span class="o">)</span>: Using default value 417
Last cylinder, +cylinders or +size<span class="o">{</span>K,M,G<span class="o">}</span> <span class="o">(</span>417-1020, default 1020<span class="o">)</span>: Using default value 1020

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>:
Disk /dev/sdb: <span class="m">1037</span> MB, <span class="m">1037041664</span> bytes
<span class="m">32</span> heads, <span class="m">62</span> sectors/track, <span class="m">1020</span> cylinders
<span class="nv">Units</span> <span class="o">=</span> cylinders of <span class="m">1984</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">1015808</span> bytes
Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
Disk identifier: 0xc3072e18

   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1               <span class="m">1</span>         <span class="m">104</span>      <span class="m">103137</span>   <span class="m">83</span>  Linux
/dev/sdb2             <span class="m">105</span>         <span class="m">208</span>      <span class="m">103168</span>   <span class="m">83</span>  Linux
/dev/sdb3             <span class="m">209</span>         <span class="m">312</span>      <span class="m">103168</span>   <span class="m">83</span>  Linux
/dev/sdb4             <span class="m">313</span>        <span class="m">1020</span>      <span class="m">702336</span>    <span class="m">5</span>  Extended
/dev/sdb5             <span class="m">313</span>         <span class="m">416</span>      <span class="m">103137</span>   <span class="m">83</span>  Linux
/dev/sdb6             <span class="m">417</span>        <span class="m">1020</span>      <span class="m">599137</span>   <span class="m">83</span>  Linux

Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: The partition table has been altered!

Calling ioctl<span class="o">()</span> to re-read partition table.
Syncing disks.
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c">#</span></code></pre></figure>

<h2>4. Make file system on the partition</h2>

<p>Now the disk /dev/sdb has been partitioned nicely. To use the parition, first we need make a file system on the partition, let&#39;s pick partition /dev/sdb2 t be ext2 file system; /dev/sdb3 to be ext3 file system, and /dev/sdb5 to be ext4 file system.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># mkfs.ext2 /dev/sdb2</span>
mke2fs 1.41.12 <span class="o">(</span>17-May-2010<span class="o">)</span>
Filesystem <span class="nv">label</span><span class="o">=</span>
OS <span class="nb">type</span>: Linux
Block <span class="nv">size</span><span class="o">=</span><span class="m">1024</span> <span class="o">(</span><span class="nv">log</span><span class="o">=</span>0<span class="o">)</span>
Fragment <span class="nv">size</span><span class="o">=</span><span class="m">1024</span> <span class="o">(</span><span class="nv">log</span><span class="o">=</span>0<span class="o">)</span>
<span class="nv">Stride</span><span class="o">=</span><span class="m">0</span> blocks, Stripe <span class="nv">width</span><span class="o">=</span><span class="m">0</span> blocks
<span class="m">25792</span> inodes, <span class="m">103168</span> blocks
<span class="m">5158</span> blocks <span class="o">(</span>5.00%<span class="o">)</span> reserved <span class="k">for</span> the super user
First data <span class="nv">block</span><span class="o">=</span>1
Maximum filesystem <span class="nv">blocks</span><span class="o">=</span>67371008
<span class="m">13</span> block groups
<span class="m">8192</span> blocks per group, <span class="m">8192</span> fragments per group
<span class="m">1984</span> inodes per group
Superblock backups stored on blocks:
        8193, 24577, 40961, 57345, 73729

Writing inode tables: <span class="k">done</span>
Writing superblocks and filesystem accounting information: <span class="k">done</span>

This filesystem will be automatically checked every <span class="m">39</span> mounts or
<span class="m">180</span> days, whichever comes first.  Use tune2fs -c or -i to override.
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># mkfs.ext3 /dev/sdb3</span>
mke2fs 1.41.12 <span class="o">(</span>17-May-2010<span class="o">)</span>
Filesystem <span class="nv">label</span><span class="o">=</span>
OS <span class="nb">type</span>: Linux
Block <span class="nv">size</span><span class="o">=</span><span class="m">1024</span> <span class="o">(</span><span class="nv">log</span><span class="o">=</span>0<span class="o">)</span>
Fragment <span class="nv">size</span><span class="o">=</span><span class="m">1024</span> <span class="o">(</span><span class="nv">log</span><span class="o">=</span>0<span class="o">)</span>
<span class="nv">Stride</span><span class="o">=</span><span class="m">0</span> blocks, Stripe <span class="nv">width</span><span class="o">=</span><span class="m">0</span> blocks
<span class="m">25792</span> inodes, <span class="m">103168</span> blocks
<span class="m">5158</span> blocks <span class="o">(</span>5.00%<span class="o">)</span> reserved <span class="k">for</span> the super user
First data <span class="nv">block</span><span class="o">=</span>1
Maximum filesystem <span class="nv">blocks</span><span class="o">=</span>67371008
<span class="m">13</span> block groups
<span class="m">8192</span> blocks per group, <span class="m">8192</span> fragments per group
<span class="m">1984</span> inodes per group
Superblock backups stored on blocks:
        8193, 24577, 40961, 57345, 73729

Writing inode tables: <span class="k">done</span>
Creating journal <span class="o">(</span><span class="m">4096</span> blocks<span class="o">)</span>: <span class="k">done</span>
Writing superblocks and filesystem accounting information: <span class="k">done</span>

This filesystem will be automatically checked every <span class="m">20</span> mounts or
<span class="m">180</span> days, whichever comes first.  Use tune2fs -c or -i to override.
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># mkfs.ext4 /dev/sdb5</span>
mke2fs 1.41.12 <span class="o">(</span>17-May-2010<span class="o">)</span>
Filesystem <span class="nv">label</span><span class="o">=</span>
OS <span class="nb">type</span>: Linux
Block <span class="nv">size</span><span class="o">=</span><span class="m">1024</span> <span class="o">(</span><span class="nv">log</span><span class="o">=</span>0<span class="o">)</span>
Fragment <span class="nv">size</span><span class="o">=</span><span class="m">1024</span> <span class="o">(</span><span class="nv">log</span><span class="o">=</span>0<span class="o">)</span>
<span class="nv">Stride</span><span class="o">=</span><span class="m">0</span> blocks, Stripe <span class="nv">width</span><span class="o">=</span><span class="m">0</span> blocks
<span class="m">25792</span> inodes, <span class="m">103136</span> blocks
<span class="m">5156</span> blocks <span class="o">(</span>5.00%<span class="o">)</span> reserved <span class="k">for</span> the super user
First data <span class="nv">block</span><span class="o">=</span>1
Maximum filesystem <span class="nv">blocks</span><span class="o">=</span>67371008
<span class="m">13</span> block groups
<span class="m">8192</span> blocks per group, <span class="m">8192</span> fragments per group
<span class="m">1984</span> inodes per group
Superblock backups stored on blocks:
        8193, 24577, 40961, 57345, 73729

Writing inode tables: <span class="k">done</span>
Creating journal <span class="o">(</span><span class="m">4096</span> blocks<span class="o">)</span>: <span class="k">done</span>
Writing superblocks and filesystem accounting information: <span class="k">done</span>

This filesystem will be automatically checked every <span class="m">31</span> mounts or
<span class="m">180</span> days, whichever comes first.  Use tune2fs -c or -i to override.
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># mkfs.ext4 /dev/sdb4</span>
mke2fs 1.41.12 <span class="o">(</span>17-May-2010<span class="o">)</span>
mkfs.ext4: inode_size <span class="o">(</span>128<span class="o">)</span> * inodes_count <span class="o">(</span>0<span class="o">)</span> too big <span class="k">for</span> a
        filesystem with <span class="m">0</span> blocks, specify higher inode_ratio <span class="o">(</span>-i<span class="o">)</span>
        or lower inode count <span class="o">(</span>-N<span class="o">)</span>.

<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c">#</span></code></pre></figure>

<p>Remeber here that /dev/sdb4 is an extended partition, It can not be formated to certain file system.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># mkfs.ext4 /dev/sdb4</span>
mke2fs 1.41.12 <span class="o">(</span>17-May-2010<span class="o">)</span>
mkfs.ext4: inode_size <span class="o">(</span>128<span class="o">)</span> * inodes_count <span class="o">(</span>0<span class="o">)</span> too big <span class="k">for</span> a
        filesystem with <span class="m">0</span> blocks, specify higher inode_ratio <span class="o">(</span>-i<span class="o">)</span>
        or lower inode count <span class="o">(</span>-N<span class="o">)</span>.

<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># mkfs.ext2 /dev/sdb4</span>
mke2fs 1.41.12 <span class="o">(</span>17-May-2010<span class="o">)</span>
mkfs.ext2: inode_size <span class="o">(</span>128<span class="o">)</span> * inodes_count <span class="o">(</span>0<span class="o">)</span> too big <span class="k">for</span> a
        filesystem with <span class="m">0</span> blocks, specify higher inode_ratio <span class="o">(</span>-i<span class="o">)</span>
        or lower inode count <span class="o">(</span>-N<span class="o">)</span>.

<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c">#</span></code></pre></figure>

<h2>5. Mount the partition for OS to use</h2>

<p>Now the partitions /dev/sdb2 , /dev/sdb3, /dev/sdb5 are formatted with ext2, ext3, ext4 file system, they can be mounted and used.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># mkdir /mnt/usb2 /mnt/usb3 /mnt/usb5</span>
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># mount /dev/sdb2 /mnt/usb2</span>
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># mount /dev/sdb3 /mnt/usb3</span>
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># mount /dev/sdb5 /mnt/usb5</span>
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># touch /mnt/ubs2/readme2.txt</span>
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># touch /mnt/usb2/readme2.txt</span>
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># touch /mnt/usb3/readme3.txt</span>
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># touch /mnt/usb5/readme5.txt</span>
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># ls -l  /mnt/usb2/readme2.txt</span>
-rw-r--r--. <span class="m">1</span> root root <span class="m">0</span> Aug  <span class="m">8</span> 16:13 /mnt/usb2/readme2.txt
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># ls -l  /mnt/usb3/readme3.txt</span>
-rw-r--r--. <span class="m">1</span> root root <span class="m">0</span> Aug  <span class="m">8</span> 16:13 /mnt/usb3/readme3.txt
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># ls -l  /mnt/usb5/readme5.txt</span>
-rw-r--r--. <span class="m">1</span> root root <span class="m">0</span> Aug  <span class="m">8</span> 16:13 /mnt/usb5/readme5.txt
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c"># umount /mnt/usb[235]</span>
<span class="o">[</span>root@sg-centos-hv1 scratch<span class="o">]</span><span class="c">#</span></code></pre></figure>

	</div>

<!--	
	<div class='share-button-container'>
		<p>Like it? Share it!</p>
		<div class='share-button share-button-twitter' data-share-url="http://weweng.github.io/2016/07/Linux-fdisk/">
			<div clas='box'>
				<a href="https://twitter.com/share?url=http://weweng.github.io%2F2016%2F07%2FLinux-fdisk%2F&text=Linux disk management (1) - basics and using fdisk&via=weweng" target='_blank'>
					<span class='share'>Tweet</span>
					<span class='count'>0</span>
				</a>
			</div>
		</div>

		<div class="share-button share-button-facebook" data-share-url="http://weweng.github.io/2016/07/Linux-fdisk/">
			<div class="box">
				<a href="https://www.facebook.com/sharer/sharer.php?u=http://weweng.github.io%2F2016%2F07%2FLinux-fdisk%2F">
					<span class='share'>Share</span>
					<span class='count'>0</span>
				</a>
			</div>
		</div>
	</div>
-->

</section>

<div id='comments'>
	<div id='disqus_thread'></div>
	<script type='text/javascript'>
		var disqus_shortname = 'wewenggithubio';
		(function() {
			var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
			(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
	</script>

	<noscript>Please enable JavaScript to view the comments</noscript>
</div>
<script type='text/javascript' src='/assets/js/StaticShareButtons.js'></script>


	</div>

	<footer class='footer'>
		<span>Copyright 2015-2017, Wenwei Weng</span>
	</footer>
</div>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62997612-1', 'auto');
  ga('send', 'pageview');

</script>


<script type="text/javascript">
// Open external links in new tab
(window.onload = function(){
	var links = document.links;

	for(i=0; i<=links.length -1; i++){
		if(links[i].hostname != window.location.hostname){
			links[i].target = '_blank';
		}
	}
})();
</script>
</body>
</html>
