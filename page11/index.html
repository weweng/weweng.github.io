<!DOCTYPE html>
<html>
<head>
	<meta charset='UTF-8'>
	<title>Home | Wenwei's tech Blog</title>
	<link rel='alternate' type='application/rss+xml' title='Wenwei Feed' href='http://weweng.github.io/atom.xml'>
	<meta name='description' content=''/>
	<meta name='keywords' content=''/>
	<meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no'>
	<meta name='theme-color' content='#655B54'>
	<link rel='shortcut icon' href='/assets/favicon.ico' type='image/x-icon'> 
	<!--- <link rel='icon' href='/assets/favicon.ico' type='image/x-icon'> --->
<link rel='icon' href='/assets/blogger.png' type='image/x-png'>

	<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700' rel='stylesheet' type='text/css'>
	<link rel='stylesheet' type='text/css' href='/assets/css/code-highlighter.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/default.min.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/github.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/pure-base-min.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/pure-grids-responsive-min.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/pure-menus-min.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/pure-tables-min.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/social-buttons.css' />
<link rel='stylesheet' type='text/css' href='/assets/css/weweng.css' />


	
</head>
<body>

<div class='pure-g' id='layout'>
    <div class='sidebar pure-u-1 pure-u-md-1-4'>
      <div class='header'>
	<nav class='nav'>
	  <ul class='nav-list'>
	    <li class='nav-item'>
	      <strong> <a href='/workblog.html'>Blog</a> </strong>
	    </li>
<!--
	    <li class='nav-item'>
	      <strong> <a href='/study/index.html'>Study</a> </strong>
	    </li>
	    <li class='nav-item'>
	      <strong> <a href='/projects/index.html'>Projects</a> </strong>
	    </li>
-->
<!--
            <li class='nav-item'>
              <strong> <a href='/services/index.html'>读书笔记</a> </strong>
            </li>
-->
	    <li class='nav-item'>
	      <strong><a href='/aboutme.html'>About Me</a></strong>
	    </li>
	</ul>
	</nav>
	<br> 
	<h1 class='brand-title'>
	  <a href='/index.html'>
		<img src='/assets/img/avatar.png' height='100'/>
	  </a>
	</h1>
      </div>
</div>

<div class='pure-u-1'>
	<div class='content'>
		
	<h1 class='content-subhead'>Page 11</h1>



<section class='post'>
	<header class='post-header'>
		<h2 class='post-title'>
			<a href="/2016/08/linux-rootfs-swap/">Linux root file systen change while kernel running</a>
		</h2>

		<p class='post-meta'>
			Posted on 04 Aug 2016
		</p>
	</header>

	<div class='post-description'>
		<p>When a Linux system running, there are two critical things: kernel and root file system. They are working together to provide services to user.</p>

<p>In Cisco IR800 platform, I have a need to run a linux which has kind of luxury file system, which includes gcc, make, gdb, dpdk package etc.. When the box boots, it runs a min-linux which has a busybox based very minimum root file system inside DRAM. Since the box BIOS has been closed to have option to boot USB stick, it is not an option to install GRUB, kernel and root file system in USB memory stick to boot distribution like ubuntu.</p>

<p>The solution is to install a new root file system in 8GB USB meory stick and swap to new root file using chroot.</p>

<p><img src="/uploads/linux/linux-chroot.png" alt="Linux root fs"> </p>



		<p><a href='/2016/08/linux-rootfs-swap/'>Continue reading &rarr;</a></p>
	</div>
</section>

<section class='post'>
	<header class='post-header'>
		<h2 class='post-title'>
			<a href="/2016/08/linux-virtual-disk/">Linux disk management (3) - Virtual Disk Image</a>
		</h2>

		<p class='post-meta'>
			Posted on 03 Aug 2016
		</p>
	</header>

	<div class='post-description'>
		<p>As the virtualization is being spreaded into many field, learn to how manipulate virtual disk image is sometime you have to deal with.
In Cisco CGR1000 and IR800 routers, there was a need to create a bootable disk image as a reference guest linux image for customer to use. Along the way, I found manipulating virtual disk file is actually very interesting.</p>

<p><img src="/uploads/linux/virtual-disk.png" alt="Linux virtual disk"></p>



		<p><a href='/2016/08/linux-virtual-disk/'>Continue reading &rarr;</a></p>
	</div>
</section>

<section class='post'>
	<header class='post-header'>
		<h2 class='post-title'>
			<a href="/2016/08/Linux-lvm/">Linux disk management (2) - Logical Volume Manager</a>
		</h2>

		<p class='post-meta'>
			Posted on 02 Aug 2016
		</p>
	</header>

	<div class='post-description'>
		<p>In Linux world, disk as storage device, it is detected by Linux kernel typically as &quot;/dev/sda&quot;, &quot;/dev/hdd&quot;. The tools like &quot;fdisk&quot; is used to create partions, and create filesystem on the partition, then mount the partition to the root file system. The disk space is ready to be used. </p>

<p>There is a serious problem though: if the files stored in the disk keep growing, the space will be all used eventually, disk becomes full. Before LVM, the only solution is to add another disk, and mount to a different mount point in the file system. This could be a problem, if the current running program is not aware of new mounting point.</p>

<p>Logical Volume Manager (LVM) is a device mapper target that provides logical volume management for the Linux kernel. It adds a layer between physical disk and file system, and supports the dynamic growing of LVM.</p>

<p><img src="/uploads/linux/lvm-arch.jpg" alt="Linux LVM"> </p>



		<p><a href='/2016/08/Linux-lvm/'>Continue reading &rarr;</a></p>
	</div>
</section>




<p style='text-align:center; margin-top: 30px;'>
	
		
			<a href='/page10/'>&larr; Previous page</a>
		
	

	
		|
	

	
		<a href='/page12/'>Next page &rarr;</a>
	
</p>
	</div>

	<footer class='footer'>
		<span>Copyright 2015-2017, Wenwei Weng</span>
	</footer>
</div>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62997612-1', 'auto');
  ga('send', 'pageview');

</script>


<script type="text/javascript">
// Open external links in new tab
(window.onload = function(){
	var links = document.links;

	for(i=0; i<=links.length -1; i++){
		if(links[i].hostname != window.location.hostname){
			links[i].target = '_blank';
		}
	}
})();
</script>
</body>
</html>
